<?php

namespace EverAccounting\Admin;

use EverAccounting\Utilities\I18nUtil;

defined( 'ABSPATH' ) || exit(); // Exit if accessed directly.

/**
 * Class Setup
 *
 * @since 1.0.0
 * @package EverAccounting\Admin
 */
class Setup {

	/**
	 * Current step
	 *
	 * @var string
	 */
	private $step = '';

	/**
	 * Steps for the setup wizard
	 *
	 * @var array
	 */
	private $steps = array();

	/**
	 * Setup constructor.
	 *
	 * @since 1.0.0
	 */
	public function __construct() {
		add_action( 'admin_menu', array( $this, 'admin_menu' ) );
		add_action( 'admin_init', array( $this, 'setup_wizard' ) );
	}

	/**
	 * Register the admin dashboard page.
	 *
	 * @since 1.0.0
	 * @return void
	 */
	public function admin_menu() {
		add_dashboard_page( '', '', 'manage_options', 'eac-setup', '' );
	}

	/**
	 * Setup wizard
	 *
	 * @since 1.0.0
	 * @return void
	 */
	public function setup_wizard() {
		$page      = filter_input( INPUT_GET, 'page', FILTER_SANITIZE_STRING );
		$save_step = filter_input( INPUT_POST, 'save_step', FILTER_SANITIZE_STRING );
		if ( empty( $page ) || 'eac-setup' !== $page ) {
			return;
		}
		$default_steps = array(
			'introduction' => array(
				'name'    => __( 'Introduction', 'wp-ever-accounting' ),
				'view'    => array( $this, 'setup_introduction' ),
				'handler' => '',
			),
			'business'     => array(
				'name'    => __( 'Business setup', 'wp-ever-accounting' ),
				'view'    => array( $this, 'business_settings' ),
				'handler' => array( $this, 'business_settings_save' ),
			),
			'currency'     => array(
				'name'    => __( 'Currency setup', 'wp-ever-accounting' ),
				'view'    => array( $this, 'currency_settings' ),
				'handler' => array( $this, 'currency_settings_save' ),
			),
			'finish'       => array(
				'name'    => __( 'Finish!', 'wp-ever-accounting' ),
				'view'    => array( $this, 'finish_setup' ),
				'handler' => '',
			),
		);

		$this->steps = apply_filters( 'eac_setup_wizard_steps', $default_steps );
		$step        = filter_input( INPUT_GET, 'step', FILTER_SANITIZE_STRING );
		$this->step  = ! empty( $step ) ? sanitize_key( $step ) : current( array_keys( $this->steps ) );

		// TODO: Need to include the scripts and styles.
		// Enqueue styles.
		EAC()->scripts->enqueue_style( 'eac-admin', EAC()->get_assets_url( 'css/admin.css' ) );
		EAC()->scripts->enqueue_style( 'eac-setup', EAC()->get_assets_url( 'css/setup.css' ), array( 'install', 'common' ) );

		// Enqueue scripts.
		// 3rd party scripts.
		EAC()->scripts->register_script( 'eac-chartjs', EAC()->get_assets_url( 'js/chartjs.js' ), array( 'jquery' ), false );
		EAC()->scripts->register_script( 'eac-inputmask', EAC()->get_assets_url( 'js/inputmask.js' ), array( 'jquery' ), false );
		EAC()->scripts->register_script( 'eac-select2', EAC()->get_assets_url( 'js/select2.js' ), array( 'jquery' ), false );
		EAC()->scripts->register_script( 'eac-tiptip', EAC()->get_assets_url( 'js/tiptip.js' ), array( 'jquery' ), false );
		EAC()->scripts->register_script( 'eac-printthis', EAC()->get_assets_url( 'js/printthis.js' ), array( 'jquery' ), false );

		// Packages.
		EAC()->scripts->register_script( 'eac-money', EAC()->get_assets_url( 'client/money.js' ), array( 'jquery' ), false );

		// Plugins.
		EAC()->scripts->register_script( 'eac-modal', EAC()->get_assets_url( 'js/modal.js' ), array( 'jquery' ), false );
		EAC()->scripts->register_script( 'eac-form', EAC()->get_assets_url( 'js/form.js' ), array( 'jquery' ), false );
		EAC()->scripts->register_script( 'eac-api', EAC()->get_assets_url( 'js/api.js' ), array( 'wp-backbone' ), false );

		// Plugin scripts.
		EAC()->scripts->register_script( 'eac-admin', EAC()->get_assets_url( 'js/admin.js' ), array( 'jquery', 'eac-inputmask', 'eac-select2', 'eac-printthis', 'eac-tiptip', 'jquery-ui-datepicker', 'jquery-ui-tooltip', 'eac-money', 'wp-ajax-response' ), false );

		EAC()->scripts->enqueue_script( 'eac-setup', EAC()->get_assets_url( 'js/setup.js' ), array( 'jquery', 'eac-admin' ), false );

		if ( ! empty( $save_step ) && isset( $this->steps[ $this->step ]['handler'] ) ) {
			call_user_func( $this->steps[ $this->step ]['handler'], $this );
		}

		// @codingStandardsIgnoreEnd
		header( 'Content-Type: text/html; charset=utf-8' );
		ob_start();
		$this->setup_wizard_header();
		$this->setup_wizard_steps();
		$this->setup_wizard_content();
		$this->setup_wizard_footer();
		exit;
	}

	/**
	 * Get the URL for the next step's screen.
	 *
	 * @param string $step slug (default: current step).
	 *
	 * @return string       URL for next step if a next step exists.
	 *                      Admin URL if it's the last step.
	 *                      Empty string on failure.
	 * @since 1.0.2
	 */
	public function get_next_step_link( $step = '' ) {
		if ( ! $step ) {
			$step = $this->step;
		}

		$keys = array_keys( $this->steps );
		if ( end( $keys ) === $step ) {
			return admin_url();
		}

		$step_index = array_search( $step, $keys, true );
		if ( false === $step_index ) {
			return '';
		}

		return add_query_arg( 'step', $keys[ $step_index + 1 ], remove_query_arg( 'activate_error' ) );
	}


	/**
	 * Setup Wizard Header.
	 */
	public function setup_wizard_header() {
		// same as default WP from wp-admin/admin-header.php.
		$wp_version_class = 'branch-' . str_replace( array( '.', ',' ), '-', floatval( get_bloginfo( 'version' ) ) );

		set_current_screen();
		?>
		<!DOCTYPE html>
		<html <?php language_attributes(); ?>>
		<head>
			<meta name="viewport" content="width=device-width"/>
			<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
			<title><?php esc_html_e( 'Ever Accounting &rsaquo; Setup Wizard', 'wp-ever-accounting' ); ?></title>
			<?php wp_print_scripts( array( 'eac-setup' ) ); ?>
			<?php do_action( 'admin_print_styles' ); ?>
		</head>
		<body class="eac-setup wp-core-ui <?php echo esc_attr( 'eac-setup-step__' . $this->step ); ?> <?php echo esc_attr( $wp_version_class ); ?>">
		<h1 class="eac-logo">
			<a href="https://wpeveraccounting.com/" target="_blank">
				<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmlld0JveD0iMCAwIDk3My4zMzMzMSAyMTMuMzMzMzMiCiAgIGhlaWdodD0iMjEzLjMzMzMzIgogICB3aWR0aD0iOTczLjMzMzMxIgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpZD0ic3ZnMiIKICAgdmVyc2lvbj0iMS4xIj48bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE4Ij48cmRmOlJERj48Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZGVmcwogICAgIGlkPSJkZWZzNiI+PGNsaXBQYXRoCiAgICAgICBpZD0iY2xpcFBhdGgxOCIKICAgICAgIGNsaXBQYXRoVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aAogICAgICAgICBpZD0icGF0aDE2IgogICAgICAgICBkPSJNIDAsMTYwIEggNzMwIFYgMCBIIDAgWiIgLz48L2NsaXBQYXRoPjwvZGVmcz48ZwogICAgIHRyYW5zZm9ybT0ibWF0cml4KDEuMzMzMzMzMywwLDAsLTEuMzMzMzMzMywwLDIxMy4zMzMzMykiCiAgICAgaWQ9ImcxMCI+PGcKICAgICAgIGlkPSJnMTIiPjxnCiAgICAgICAgIGNsaXAtcGF0aD0idXJsKCNjbGlwUGF0aDE4KSIKICAgICAgICAgaWQ9ImcxNCI+PGcKICAgICAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMy45NjA0LDgwKSIKICAgICAgICAgICBpZD0iZzIwIj48cGF0aAogICAgICAgICAgICAgaWQ9InBhdGgyMiIKICAgICAgICAgICAgIHN0eWxlPSJmaWxsOiM3N2I4MmU7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiCiAgICAgICAgICAgICBkPSJtIDAsMCB2IDAgYyAwLC0yMC4xODggMTAuNzcsLTM4Ljg0MyAyOC4yNTMsLTQ4LjkzNyAxNy40ODQsLTEwLjA5MyAzOS4wMjQsLTEwLjA5MyA1Ni41MDgsMCAxNy40ODMsMTAuMDk0IDI4LjI1MywyOC43NDkgMjguMjUzLDQ4LjkzNyAwLDIwLjE4OCAtMTAuNzcsMzguODQzIC0yOC4yNTMsNDguOTM3IC0xNy40ODQsMTAuMDk0IC0zOS4wMjQsMTAuMDk0IC01Ni41MDgsMCBDIDEwLjc3LDM4Ljg0MyAwLDIwLjE4OCAwLDAiIC8+PC9nPjxnCiAgICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzYuNTY3NCw1Ny41MjgzKSIKICAgICAgICAgICBpZD0iZzI0Ij48cGF0aAogICAgICAgICAgICAgaWQ9InBhdGgyNiIKICAgICAgICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiCiAgICAgICAgICAgICBkPSJtIDAsMCBjIC00Ljk1NCwtMi42MDYgLTExLjkzNSwtNC41NzkgLTE2LjgyNywtNC40MDYgLTQuMTksMC4xNDggLTcuNjMzLDEuMzgyIC0xMC4zMjgsNC4xNDUgLTIuNjg5LDIuNzY0IC00LjAzNCw2LjMgLTQuMDM0LDEwLjYwOSAwLDEuNTA4IDAuMTIyLDIuOTc1IDAuMzcxLDQuMzg4IDAuNDEzLDIuMzk4IDEuMTc1LDQuNjU5IDIuMjk3LDYuNzkyIDAuOTc5LDEuODc0IDIuMjI5LDMuNjQyIDMuNzUzLDUuMzE1IDQuMjc4LDQuNjg1IDkuMzIzLDcuMDMgMTUuMTE5LDcuMDMgNC42NDgsMCA4LjM1OSwtMS45MTYgMTEuMTM4LC01Ljc0OSAwLjU1MiwtMC43NiAxLjAwNCwtMS41NTIgMS40MDcsLTIuMzYxIGwgLTI1LjUyOCwtOC43OCB2IC00LjEzNSBsIDI4Ljk5OSw3LjQ0MSBjIDIuNjExLDAuNjQ2IDMuOTgzLDIuODk0IDMuMzgzLDUuNTE2IGwgLTAuMjcxLDAuOTg4IGMgLTEuODM2LDcuNjg1IC03Ljc1NywxNC40OCAtMTUuNzQ5LDE2LjA4OSAtOS4yODUsMS44NjkgLTE4Ljc3NSwtMi43NDcgLTI1LjE1MiwtOS4yNCAtMC4yMjcsLTAuMjMxIC0wLjQ1MSwtMC40NjUgLTAuNjcyLC0wLjcwMSAtNi40MjEsLTYuODQ0IC05LjYyOSwtMTQuNzAxIC05LjYyOSwtMjMuNTYyIDAuMDI2LC02LjY3NSAyLjA1NCwtMTIuMTk2IDYuMDc3LC0xNi41NjQgNC4wMjMsLTQuMzczIDkuMTA1LC02LjU1OSAxNS4yNDYsLTYuNTU5IDkuNzk1LDAgMjIuNDkzLDYuMzIzIDI5LjIzNCwxMy4xNTkgTCA4Ljc2NSwtMC41MzYgQyA2LjE4NSwxLjI5OSAyLjgwMiwxLjQ3NiAwLDAiIC8+PC9nPjxnCiAgICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODguMjgzMiw0NC43MTA5KSIKICAgICAgICAgICBpZD0iZzI4Ij48cGF0aAogICAgICAgICAgICAgaWQ9InBhdGgzMCIKICAgICAgICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiCiAgICAgICAgICAgICBkPSJtIDAsMCBoIC01LjI1OCBjIDAuODU3LDQuNDE4IDEuNzE0LDguODM3IDIuNTcxLDEzLjI1NiAxLjM1NSw2Ljk4NiAyLjcxLDEzLjk3MyA0LjA2NSwyMC45NiAxLjQzMyw3LjM4NiAyLjY4OSwxNC42ODQgLTEuMjIxLDIxLjU1IC0zLjE3OSw1LjU4MSAtOS4yMDUsOC40ODMgLTE1LjQ2Myw4Ljg5OCAtNS4wNDgsMC4zMzUgLTEwLjE4MiwtMC43NDIgLTE0LjgzMiwtMi42NzggLTAuMzg3LC0wLjE2MSAtNC4zNzMsLTEuOTU1IC00LjMyNiwtMi4wMzggMCwwIC00LjAwMyw3LjEzOCAtNC4wMDMsNy4xMzkgLTAuMTgsMC40MTEgNy4yMzIsMy41MzMgNy45MjQsMy43OTMgMi44NjMsMS4wNzUgNS44MjUsMS44OTYgOC44MzgsMi40MjcgNS45MzEsMS4wNDcgMTIuMTQxLDAuOTg3IDE3Ljk0MSwtMC43MzcgNy43MjYsLTIuMjk2IDE0LjI5OCwtOC4yNTYgMTYuNjY3LC0xNi4wMzkgMi43MTMsLTguOTA5IDAuNTIzLC0yMC42NTUgLTAuNzE2LC0yNy43OTkgTCA4LjA2LDYuNjkgQyA3LjMzMywyLjgxMiAzLjk0NywwIDAsMCIgLz48L2c+PGcKICAgICAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMzIuNTIwNSw2OC42MjYpIgogICAgICAgICAgIGlkPSJnMzIiPjxwYXRoCiAgICAgICAgICAgICBpZD0icGF0aDM0IgogICAgICAgICAgICAgc3R5bGU9ImZpbGw6IzI2M2E2NztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICAgIGQ9Im0gMCwwIGMgMCwtMS4wMTggMC4xNjIsLTEuOTA1IDAuNDg3LC0yLjY2NCAwLjMyNSwtMC43NTkgMC43NjcsLTEuMzkzIDEuMzI1LC0xLjkgMC41NTksLTAuNTA5IDEuMjA5LC0wLjg4OCAxLjk1MiwtMS4xMzggMC43NDEsLTAuMjUgMS41MjksLTAuMzc1IDIuMzYzLC0wLjM3NSAwLjgwMSwwIDEuNjcxLDAuMjAzIDIuNjEzLDAuNjEyIDAuOTQyLDAuNDA4IDEuODE4LDEuMDA5IDIuNjI2LDEuODAxIDAuODA5LDAuNzkyIDEuNDg1LDEuNzcxIDIuMDI3LDIuOTM4IDAuNTQxLDEuMTY3IDAuODEyLDIuNTA5IDAuODEyLDQuMDI4IFYgNi4zNTMgQyAxMy40ODgsNi40MzYgMTIuNzI5LDYuNTExIDExLjkzLDYuNTc3IDExLjEyOSw2LjY0NCAxMC4yNTMsNi42NzggOS4zMDMsNi42NzggOC4yNTMsNi42NzggNy4xNzgsNi41NzcgNi4wNzcsNi4zNzcgNC45NzcsNi4xNzggMy45NzcsNS44MjMgMy4wNzUsNS4zMTQgMi4xNzYsNC44MDYgMS40MzcsNC4xMjIgMC44NjIsMy4yNjQgMC4yODcsMi40MDQgMCwxLjMxNyAwLDAgbSAxNC4xNTUsMTQuNDggYyAwLDEuMDE3IC0wLjE1NCwxLjk1NSAtMC40NjMsMi44MTQgLTAuMzA4LDAuODU5IC0wLjc3NSwxLjYwMSAtMS40LDIuMjI2IC0wLjYyNiwwLjYyNiAtMS40MDUsMS4xMTMgLTIuMzM5LDEuNDYzIC0wLjkzMywwLjM1IC0yLjAyNSwwLjUyNSAtMy4yNzYsMC41MjUgLTEuNTg0LDAgLTMuMTA2LC0wLjMwNCAtNC41NjUsLTAuOTEyIC0xLjQ1OSwtMC42MSAtMi44MjEsLTEuNDY0IC00LjA4OSwtMi41NjQgLTAuNTMzLC0wLjQ2NyAtMS4wMDMsLTAuODI1IC0xLjQxMywtMS4wNzUgLTAuNDA4LC0wLjI1MSAtMC44MjksLTAuMzc2IC0xLjI2MiwtMC4zNzYgLTAuMjg0LDAgLTAuNTg4LDAuMDU5IC0wLjkxMywwLjE3NiAtMC4zMjYsMC4xMTYgLTAuNjk3LDAuMzA4IC0xLjExMywwLjU3NSBsIC0wLjIsMC4xMjUgYyAtMC42MzQsMC4zNSAtMS4xMDQsMC42OTEgLTEuNDEzLDEuMDI1IC0wLjMwOSwwLjMzMyAtMC40NjMsMC43MDggLTAuNDYzLDEuMTI1IDAsMC41MTcgMC4yNzUsMS4xNTEgMC44MjUsMS45MDEgMC44ODQsMS4yIDEuOTAyLDIuMjg0IDMuMDUxLDMuMjUyIDEuMTUxLDAuOTY2IDIuNDA1LDEuNzg3IDMuNzY1LDIuNDYzIDEuMzU4LDAuNjc1IDIuOCwxLjE5NiA0LjMyNiwxLjU2MyAxLjUyNiwwLjM2NiAzLjA5NywwLjU1IDQuNzE1LDAuNTUgMy4zMDEsMCA2LjA2NCwtMC4zOTIgOC4yOSwtMS4xNzUgMi4yMjYsLTAuNzg0IDQuMDE0LC0xLjkyMiA1LjM2NSwtMy40MTQgMS4zNTEsLTEuNDkyIDIuMzE3LC0zLjMxNCAyLjkwMSwtNS40NjUgMC41ODMsLTIuMTUxIDAuODc1LC00LjU5MyAwLjg3NSwtNy4zMjggViAtOC40NzkgYyAwLC0wLjc4NCAtMC4wNjYsLTEuNDM4IC0wLjIsLTEuOTYyIC0wLjEzNCwtMC41MjYgLTAuMzU0LC0wLjk0NyAtMC42NjMsLTEuMjY0IC0wLjMwOSwtMC4zMTYgLTAuNzI1LC0wLjUzNyAtMS4yNSwtMC42NjIgLTAuNTI1LC0wLjEyNSAtMS4xOCwtMC4xODggLTEuOTYzLC0wLjE4OCBoIC0yLjIyNiBjIC0wLjkzNCwwIC0xLjcxMywwLjA3NSAtMi4zMzgsMC4yMjUgLTAuNjI2LDAuMTUgLTEuMTI2LDAuNDA4IC0xLjUwMSwwLjc3NSAtMC4zNzUsMC4zNjcgLTAuNjM4LDAuODU5IC0wLjc4OCwxLjQ3NiAtMC4xNSwwLjYxNyAtMC4yMjUsMS4zODQgLTAuMjI1LDIuMzAxIGggLTAuMDUgYyAtMC41MzQsLTAuNzg0IC0xLjE1OSwtMS41MjIgLTEuODc2LC0yLjIxMyAtMC43MTYsLTAuNjkzIC0xLjUyNSwtMS4yOTcgLTIuNDI1LC0xLjgxNCAtMC45MDEsLTAuNTE2IC0xLjg4OSwtMC45MjQgLTIuOTY0LC0xLjIyNSAtMS4wNzYsLTAuMyAtMi4yMzksLTAuNDUgLTMuNDksLTAuNDUgLTEuMjg0LDAgLTIuNTQ2LDAuMTI1IC0zLjc4OCwwLjM3NiAtMS4yNDMsMC4yNDkgLTIuNDE4LDAuNjI0IC0zLjUyNywxLjEyNCAtMS4xMDgsMC41MDEgLTIuMTMsMS4xMTQgLTMuMDY0LDEuODM4IC0wLjkzMywwLjcyNiAtMS43NDIsMS41NzIgLTIuNDI1LDIuNTM4IC0wLjY4NCwwLjk2OCAtMS4yMTcsMi4wNDIgLTEuNjAxLDMuMjI3IC0wLjM4NCwxLjE4NCAtMC41NzUsMi40NzcgLTAuNTc1LDMuODc3IDAsMS45MTcgMC4zMDQsMy42MDEgMC45MTMsNS4wNTIgMC42MDgsMS40NTEgMS40MzgsMi43MDUgMi40ODgsMy43NjMgMS4wNTEsMS4wNTkgMi4yODEsMS45MzkgMy42ODksMi42MzkgMS40MDksMC43MDEgMi45MDEsMS4yNjMgNC40NzcsMS42ODkgMS41NzUsMC40MjQgMy4xOTcsMC43MjUgNC44NjUsMC44OTkgMS42NjcsMC4xNzUgMy4yOTIsMC4yNjMgNC44NzcsMC4yNjMgMC43NSwwIDEuNDg4LC0wLjAyMSAyLjIxMiwtMC4wNjMgMC43MjYsLTAuMDQxIDEuNDYzLC0wLjEwNCAyLjIxNCwtMC4xODcgeiIgLz48L2c+PGcKICAgICAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MDAuMzk1NSw2My42NzM4KSIKICAgICAgICAgICBpZD0iZzM2Ij48cGF0aAogICAgICAgICAgICAgaWQ9InBhdGgzOCIKICAgICAgICAgICAgIHN0eWxlPSJmaWxsOiMyNjNhNjc7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiCiAgICAgICAgICAgICBkPSJtIDAsMCBjIC0wLjgsLTEuMzUxIC0xLjc0NiwtMi41NTUgLTIuODM4LC0zLjYxMyAtMS4wOTIsLTEuMDYgLTIuMzIyLC0xLjk1MSAtMy42ODksLTIuNjc3IC0xLjM2OCwtMC43MjUgLTIuODYsLTEuMjc5IC00LjQ3NywtMS42NjMgLTEuNjE3LC0wLjM4MyAtMy4zNTksLTAuNTc1IC01LjIyNiwtMC41NzUgLTMuMjY4LDAgLTYuMjAzLDAuNTIxIC04LjgwNCwxLjU2MyAtMi42MDEsMS4wNDIgLTQuODEsMi40OTIgLTYuNjI3LDQuMzUyIC0xLjgxOCwxLjg1OCAtMy4yMSw0LjA4MSAtNC4xNzcsNi42NjUgLTAuOTY3LDIuNTg0IC0xLjQ1MSw1LjQxOSAtMS40NTEsOC41MDQgMCwzLjA4NCAwLjQ5Miw1Ljk1MSAxLjQ3Niw4LjYwMiAwLjk4NCwyLjY1MiAyLjQwMSw0Ljk0OCA0LjI1MSw2Ljg5IDEuODUxLDEuOTQzIDQuMTAyLDMuNDY4IDYuNzUzLDQuNTc3IDIuNjUxLDEuMTA5IDUuNjQ0LDEuNjYzIDguOTc5LDEuNjYzIDMuNjAxLDAgNi43MTUsLTAuNzIxIDkuMzQxLC0yLjE2MyAyLjYyNiwtMS40NDIgNC43NzIsLTMuNDgxIDYuNDM5LC02LjExNSAwLjUxOCwtMC44MTcgMC43NzYsLTEuNSAwLjc3NiwtMi4wNTEgMCwtMC40ODMgLTAuMTc5LC0wLjkwOCAtMC41MzksLTEuMjc1IC0wLjM1OCwtMC4zNjggLTAuODk1LC0wLjc0MiAtMS42MTIsLTEuMTI1IEwgLTEuNjUsMjEuNDM0IGMgLTAuNDE2LC0wLjIzNCAtMC43ODQsLTAuNDA1IC0xLjEsLTAuNTEzIC0wLjMxNywtMC4xMDkgLTAuNjE4LC0wLjE2MyAtMC45MDEsLTAuMTYzIC0wLjQ4NCwwIC0wLjkyNSwwLjE2MyAtMS4zMjYsMC40ODggLTAuMzk5LDAuMzI1IC0wLjg0OSwwLjgwNCAtMS4zNDksMS40MzggLTEuMDUxLDEuMzE2IC0yLjI0OCwyLjMxMyAtMy41OSwyLjk4OCAtMS4zNDIsMC42NzYgLTIuODcyLDEuMDE0IC00LjU4OSwxLjAxNCAtMS43MTgsMCAtMy4yNjQsLTAuMzEzIC00LjY0LC0wLjkzOCAtMS4zNzUsLTAuNjI1IC0yLjU0NiwtMS41MjYgLTMuNTEzLC0yLjcwMiAtMC45NjcsLTEuMTc1IC0xLjcwOSwtMi42MDkgLTIuMjI2LC00LjMwMSAtMC41MTYsLTEuNjkyIC0wLjc3NSwtMy42MTQgLTAuNzc1LC01Ljc2NSAwLC0xLjgxNyAwLjIyMSwtMy41NTUgMC42NjMsLTUuMjE0IDAuNDQxLC0xLjY2IDEuMTIxLC0zLjEyMiAyLjAzOCwtNC4zODkgMC45MTcsLTEuMjY4IDIuMDY3LC0yLjI4IDMuNDUxLC0zLjAzOSAxLjM4NCwtMC43NiAzLjAyNywtMS4xMzggNC45MjcsLTEuMTM4IDEuNzE4LDAgMy4zNDcsMC4zMzcgNC44OSwxLjAxMyAxLjU0MiwwLjY3NSAyLjk0NiwxLjc0NiA0LjIxMywzLjIxNCAwLjQzNCwwLjUgMC44MTgsMC44NzUgMS4xNTEsMS4xMjUgMC4zMzQsMC4yNSAwLjY5MSwwLjM3NSAxLjA3NSwwLjM3NSAwLjI2NywwIDAuNTUxLC0wLjA1OSAwLjg1MSwtMC4xNzUgMC4yOTksLTAuMTE3IDAuNjUsLTAuMjg0IDEuMDUsLTAuNSBMIC0xLjEyNSw0LjEyNiBDIC0wLjUwOCwzLjc5MyAtMC4wNSwzLjQ1NSAwLjI1MSwzLjExMyAwLjU1MSwyLjc3MSAwLjcwMSwyLjM4NSAwLjcwMSwxLjk1MSAwLjcwMSwxLjQxNyAwLjQ2OCwwLjc2NyAwLDAiIC8+PC9nPjxnCiAgICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDQxLjUxMDcsNjMuNjczOCkiCiAgICAgICAgICAgaWQ9Imc0MCI+PHBhdGgKICAgICAgICAgICAgIGlkPSJwYXRoNDIiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojMjYzYTY3O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIgogICAgICAgICAgICAgZD0ibSAwLDAgYyAtMC44LC0xLjM1MSAtMS43NDYsLTIuNTU1IC0yLjgzOCwtMy42MTMgLTEuMDkyLC0xLjA2IC0yLjMyMiwtMS45NTEgLTMuNjg5LC0yLjY3NyAtMS4zNjgsLTAuNzI1IC0yLjg2LC0xLjI3OSAtNC40NzcsLTEuNjYzIC0xLjYxNywtMC4zODMgLTMuMzU5LC0wLjU3NSAtNS4yMjYsLTAuNTc1IC0zLjI2OSwwIC02LjIwNCwwLjUyMSAtOC44MDQsMS41NjMgLTIuNjAxLDEuMDQyIC00LjgxLDIuNDkyIC02LjYyOCw0LjM1MiAtMS44MTcsMS44NTggLTMuMjA5LDQuMDgxIC00LjE3Niw2LjY2NSAtMC45NjcsMi41ODQgLTEuNDUxLDUuNDE5IC0xLjQ1MSw4LjUwNCAwLDMuMDg0IDAuNDkyLDUuOTUxIDEuNDc2LDguNjAyIDAuOTg0LDIuNjUyIDIuNDAxLDQuOTQ4IDQuMjUxLDYuODkgMS44NTEsMS45NDMgNC4xMDIsMy40NjggNi43NTIsNC41NzcgMi42NTIsMS4xMDkgNS42NDQsMS42NjMgOC45OCwxLjY2MyAzLjYwMSwwIDYuNzE1LC0wLjcyMSA5LjM0MSwtMi4xNjMgMi42MjYsLTEuNDQyIDQuNzcyLC0zLjQ4MSA2LjQzOSwtNi4xMTUgMC41MTgsLTAuODE3IDAuNzc2LC0xLjUgMC43NzYsLTIuMDUxIDAsLTAuNDgzIC0wLjE3OSwtMC45MDggLTAuNTM5LC0xLjI3NSAtMC4zNTgsLTAuMzY4IC0wLjg5NSwtMC43NDIgLTEuNjEyLC0xLjEyNSBMIC0xLjY1LDIxLjQzNCBjIC0wLjQxNiwtMC4yMzQgLTAuNzg0LC0wLjQwNSAtMS4xLC0wLjUxMyAtMC4zMTcsLTAuMTA5IC0wLjYxOCwtMC4xNjMgLTAuOTAxLC0wLjE2MyAtMC40ODQsMCAtMC45MjUsMC4xNjMgLTEuMzI2LDAuNDg4IC0wLjM5OSwwLjMyNSAtMC44NDksMC44MDQgLTEuMzQ5LDEuNDM4IC0xLjA1MSwxLjMxNiAtMi4yNDgsMi4zMTMgLTMuNTksMi45ODggLTEuMzQyLDAuNjc2IC0yLjg3MiwxLjAxNCAtNC41ODksMS4wMTQgLTEuNzE4LDAgLTMuMjY0LC0wLjMxMyAtNC42NCwtMC45MzggLTEuMzc1LC0wLjYyNSAtMi41NDYsLTEuNTI2IC0zLjUxMywtMi43MDIgLTAuOTY3LC0xLjE3NSAtMS43MDksLTIuNjA5IC0yLjIyNiwtNC4zMDEgLTAuNTE3LC0xLjY5MiAtMC43NzUsLTMuNjE0IC0wLjc3NSwtNS43NjUgMCwtMS44MTcgMC4yMjEsLTMuNTU1IDAuNjYyLC01LjIxNCAwLjQ0MiwtMS42NiAxLjEyMiwtMy4xMjIgMi4wMzksLTQuMzg5IDAuOTE2LC0xLjI2OCAyLjA2NywtMi4yOCAzLjQ1MSwtMy4wMzkgMS4zODQsLTAuNzYgMy4wMjcsLTEuMTM4IDQuOTI3LC0xLjEzOCAxLjcxNywwIDMuMzQ3LDAuMzM3IDQuODksMS4wMTMgMS41NDIsMC42NzUgMi45NDYsMS43NDYgNC4yMTMsMy4yMTQgMC40MzQsMC41IDAuODE4LDAuODc1IDEuMTUxLDEuMTI1IDAuMzM0LDAuMjUgMC42OTEsMC4zNzUgMS4wNzUsMC4zNzUgMC4yNjcsMCAwLjU1MSwtMC4wNTkgMC44NTEsLTAuMTc1IDAuMjk5LC0wLjExNyAwLjY1LC0wLjI4NCAxLjA1LC0wLjUgTCAtMS4xMjUsNC4xMjYgQyAtMC41MDgsMy43OTMgLTAuMDUsMy40NTUgMC4yNTEsMy4xMTMgMC41NTEsMi43NzEgMC43MDEsMi4zODUgMC43MDEsMS45NTEgMC43MDEsMS40MTcgMC40NjgsMC43NjcgMCwwIiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ2Ni44NzAxLDkwLjY4NDYpIgogICAgICAgICAgIGlkPSJnNDQiPjxwYXRoCiAgICAgICAgICAgICBpZD0icGF0aDQ2IgogICAgICAgICAgICAgc3R5bGU9ImZpbGw6IzI2M2E2NztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICAgIGQ9Im0gMCwwIGMgLTEuNzM0LDAgLTMuMjIyLC0wLjM5MiAtNC40NjQsLTEuMTc2IC0xLjI0MiwtMC43ODMgLTIuMjY0LC0xLjgyNSAtMy4wNjMsLTMuMTI2IC0wLjgwMSwtMS4zIC0xLjM4OSwtMi43OTMgLTEuNzY0LC00LjQ3NiAtMC4zNzUsLTEuNjg1IC0wLjU2MywtMy40MzYgLTAuNTYzLC01LjI1MiAwLC0xLjg4NSAwLjE4NCwtMy42ODYgMC41NSwtNS40MDMgMC4zNjcsLTEuNzE3IDAuOTQyLC0zLjIzNCAxLjcyNiwtNC41NTEgMC43ODQsLTEuMzE4IDEuODAxLC0yLjM2OSAzLjA1MiwtMy4xNTIgMS4yNSwtMC43ODMgMi43NTEsLTEuMTc1IDQuNTAxLC0xLjE3NSAxLjQwMSwwIDIuNzA2LDAuMjg4IDMuOTE1LDAuODYzIDEuMjA4LDAuNTc1IDIuMjUsMS40NDYgMy4xMjYsMi42MTMgMC44NzUsMS4xNjcgMS41NjIsMi42NDMgMi4wNjIsNC40MjcgMC41LDEuNzg0IDAuNzUxLDMuODg1IDAuNzUxLDYuMzAzIDAsMS44MzMgLTAuMTkyLDMuNjAxIC0wLjU3NSw1LjMwMiAtMC4zODQsMS43IC0wLjk3NiwzLjIwMSAtMS43NzYsNC41MDEgLTAuOCwxLjMwMSAtMS44MTgsMi4zNDMgLTMuMDUxLDMuMTI2IEMgMy4xOTIsLTAuMzkyIDEuNzE4LDAgMCwwIG0gMC4yMjYsNy4yNzcgYyAzLjMxNywwIDYuMjk0LC0wLjUzNyA4LjkyNywtMS42MTIgMi42MzQsLTEuMDc2IDQuODY1LC0yLjU2IDYuNjkxLC00LjQ1MyAxLjgyNSwtMS44OTIgMy4yMjEsLTQuMTIyIDQuMTg5LC02LjY5IDAuOTY3LC0yLjU2NyAxLjQ1LC01LjM0MyAxLjQ1LC04LjMyOCAwLC0zLjE2OCAtMC40NzUsLTYuMDgxIC0xLjQyNSwtOC43NCAtMC45NTEsLTIuNjYgLTIuMzQ3LC00Ljk1MyAtNC4xODksLTYuODc4IC0xLjg0MywtMS45MjYgLTQuMTEsLTMuNDI3IC02LjgwMywtNC41MDIgLTIuNjkzLC0xLjA3NSAtNS43NzMsLTEuNjEzIC05LjI0MSwtMS42MTMgLTMuMzg2LDAgLTYuMzk5LDAuNTE4IC05LjA0MSwxLjU1MSAtMi42NDIsMS4wMzQgLTQuODczLDIuNDc5IC02LjY5LDQuMzM5IC0xLjgxOCwxLjg1OSAtMy4yMDYsNC4wODEgLTQuMTY0LDYuNjY1IC0wLjk1OSwyLjU4NCAtMS40MzgsNS40MjcgLTEuNDM4LDguNTI5IDAsMy4xNSAwLjQ3NSw2LjA1MiAxLjQyNSw4LjcwMyAwLjk1LDIuNjUgMi4zNDcsNC45NDMgNC4xODksNi44NzcgMS44NDMsMS45MzQgNC4xMTUsMy40NDMgNi44MTYsNC41MjcgMi43LDEuMDgzIDUuODAyLDEuNjI1IDkuMzA0LDEuNjI1IiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwNC43MzQ0LDcxLjkwMjMpIgogICAgICAgICAgIGlkPSJnNDgiPjxwYXRoCiAgICAgICAgICAgICBpZD0icGF0aDUwIgogICAgICAgICAgICAgc3R5bGU9ImZpbGw6IzI2M2E2NztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICAgIGQ9Im0gMCwwIGMgMCwtMS40MDEgMC4xMDgsLTIuNjM5IDAuMzI1LC0zLjcxNCAwLjIxNywtMS4wNzYgMC41NzksLTEuOTggMS4wODgsLTIuNzE0IDAuNTA5LC0wLjczMyAxLjE4LC0xLjI5MiAyLjAxMywtMS42NzYgMC44MzQsLTAuMzgzIDEuODU5LC0wLjU3NSAzLjA3NywtMC41NzUgMS4xNjcsMCAyLjI1MSwwLjI1IDMuMjUxLDAuNzUxIDEsMC41IDEuODYzLDEuMTc5IDIuNTg4LDIuMDM3IDAuNzI1LDAuODYgMS4yOTMsMS44NTUgMS43MDEsMi45OSAwLjQwOCwxLjEzMyAwLjYxMywyLjMyNiAwLjYxMywzLjU3NiB2IDIwLjM4MyBjIDAsMC43ODMgMC4wNjIsMS40MzggMC4xODgsMS45NjMgMC4xMjUsMC41MjUgMC4zNDQsMC45NDIgMC42NjIsMS4yNSAwLjMxNiwwLjMwOSAwLjczOCwwLjUzIDEuMjYzLDAuNjYzIDAuNTI2LDAuMTM0IDEuMTc5LDAuMjAxIDEuOTYzLDAuMjAxIGggMy4wNTIgYyAwLjc4MywwIDEuNDM4LC0wLjA2NyAxLjk2MywtMC4yMDEgMC41MjQsLTAuMTMzIDAuOTQxLC0wLjM1NCAxLjI1LC0wLjY2MyAwLjMwOSwtMC4zMDggMC41MjksLTAuNzI1IDAuNjYzLC0xLjI1IDAuMTMzLC0wLjUyNSAwLjIsLTEuMTggMC4yLC0xLjk2MyB2IC0zMi44MTMgYyAwLC0wLjc4NCAtMC4wNjcsLTEuNDM4IC0wLjIsLTEuOTYzIC0wLjEzNCwtMC41MjUgLTAuMzU0LC0wLjk0NiAtMC42NjMsLTEuMjYzIC0wLjMwOSwtMC4zMTcgLTAuNzI2LC0wLjUzOCAtMS4yNSwtMC42NjMgLTAuNTI1LC0wLjEyNSAtMS4xOCwtMC4xODcgLTEuOTYzLC0wLjE4NyBoIC0yLjA3NiBjIC0wLjk4NCwwIC0xLjgwMSwwLjA3OSAtMi40NTEsMC4yMzcgLTAuNjUxLDAuMTU4IC0xLjE2NywwLjQyNSAtMS41NTEsMC44IC0wLjM4NCwwLjM3NiAtMC42NTQsMC44ODQgLTAuODEyLDEuNTI2IC0wLjE2LDAuNjQxIC0wLjIzOCwxLjQzOCAtMC4yMzgsMi4zODggbCAtMC4wNSwwLjAyNiBjIC0wLjUxNywtMC44MTggLTEuMTcxLC0xLjU4NCAtMS45NjMsLTIuMzAxIC0wLjc5MiwtMC43MTggLTEuNjkzLC0xLjM0MiAtMi43MDIsLTEuODc2IC0xLjAwOCwtMC41MzMgLTIuMTA5LC0wLjk1NCAtMy4zLC0xLjI2MyAtMS4xOTMsLTAuMzA5IC0yLjQ0OCwtMC40NjMgLTMuNzY1LC0wLjQ2MyAtMS45ODQsMCAtMy43MDUsMC4yMjUgLTUuMTY0LDAuNjc1IC0xLjQ1OSwwLjQ1MSAtMi43MSwxLjA4OSAtMy43NTIsMS45MTQgLTEuMDQyLDAuODI1IC0xLjg5MywxLjgwOSAtMi41NTEsMi45NTEgLTAuNjU5LDEuMTQyIC0xLjE4LDIuNDA5IC0xLjU2MywzLjgwMiAtMC4zODQsMS4zOTIgLTAuNjQ2LDIuODg0IC0wLjc4Nyw0LjQ3NyAtMC4xNDIsMS41OTEgLTAuMjEzLDMuMjQ3IC0wLjIxMyw0Ljk2MyB2IDE5LjAzMyBjIDAsMC43ODMgMC4wNjIsMS40MzggMC4xODcsMS45NjMgMC4xMjUsMC41MjUgMC4zNDcsMC45NDIgMC42NjMsMS4yNSAwLjMxNywwLjMwOSAwLjczOCwwLjUzIDEuMjYzLDAuNjYzIDAuNTI1LDAuMTM0IDEuMTgsMC4yMDEgMS45NjMsMC4yMDEgaCAzLjAwMiBjIDAuNzgzLDAgMS40MzcsLTAuMDY3IDEuOTYzLC0wLjIwMSAwLjUyNSwtMC4xMzMgMC45NDEsLTAuMzU0IDEuMjUsLTAuNjYzIDAuMzA4LC0wLjMwOCAwLjUyOSwtMC43MjUgMC42NjMsLTEuMjUgMC4xMzQsLTAuNTI1IDAuMiwtMS4xOCAwLjIsLTEuOTYzIHoiIC8+PC9nPjxnCiAgICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTQyLjY5ODIsNTYuMDcxMykiCiAgICAgICAgICAgaWQ9Imc1MiI+PHBhdGgKICAgICAgICAgICAgIGlkPSJwYXRoNTQiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojMjYzYTY3O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIgogICAgICAgICAgICAgZD0iTSAwLDAgQyAtMC43ODMsMCAtMS40MzcsMC4wNjIgLTEuOTYzLDAuMTg3IC0yLjQ4OCwwLjMxMiAtMi45MDksMC41MzMgLTMuMjI2LDAuODUgLTMuNTQzLDEuMTY3IC0zLjc2NCwxLjU4OCAtMy44ODksMi4xMTMgLTQuMDE0LDIuNjM4IC00LjA3NiwzLjI5MiAtNC4wNzYsNC4wNzYgdiAzMi44MTMgYyAwLDAuNzgzIDAuMDYyLDEuNDM4IDAuMTg3LDEuOTYzIDAuMTI1LDAuNTI1IDAuMzQ2LDAuOTQyIDAuNjYzLDEuMjUxIDAuMzE3LDAuMzA4IDAuNzM4LDAuNTI5IDEuMjYzLDAuNjYyIDAuNTI2LDAuMTM0IDEuMTgsMC4yMDEgMS45NjMsMC4yMDEgaCAyLjA1MSBjIDAuOTgzLDAgMS44MDEsLTAuMDggMi40NTIsLTAuMjM4IDAuNjQ5LC0wLjE1OSAxLjE2NiwtMC40MjUgMS41NSwtMC44IDAuMzg0LC0wLjM3NiAwLjY1NCwtMC44ODQgMC44MTIsLTEuNTI2IDAuMTU5LC0wLjY0MiAwLjIzOSwtMS40MzggMC4yMzksLTIuMzg4IGwgMC4wNDksLTAuMDI2IGMgMC41MTcsMC44MTcgMS4xNzUsMS41ODUgMS45NzYsMi4zMDIgMC44LDAuNzE2IDEuNzA1LDEuMzQxIDIuNzE0LDEuODc1IDEuMDA5LDAuNTM0IDIuMTA4LDAuOTU1IDMuMzAxLDEuMjYzIDEuMTkyLDAuMzA4IDIuNDQ3LDAuNDYzIDMuNzY0LDAuNDYzIDEuOTg0LDAgMy43MDUsLTAuMjE3IDUuMTY0LC0wLjY1IDEuNDU5LC0wLjQzNCAyLjcxLC0xLjA0NyAzLjc1MiwtMS44MzkgMS4wNDEsLTAuNzkyIDEuODkyLC0xLjc1IDIuNTUxLC0yLjg3NiAwLjY1OCwtMS4xMjUgMS4xOCwtMi4zODQgMS41NjMsLTMuNzc2IDAuMzgzLC0xLjM5MiAwLjY0NiwtMi45MDEgMC43ODgsLTQuNTI3IDAuMTQxLC0xLjYyNiAwLjIxMiwtMy4zMyAwLjIxMiwtNS4xMTQgViA0LjA3NiBjIDAsLTAuNzg0IC0wLjA2NywtMS40MzggLTAuMiwtMS45NjMgQyAzMi42MDQsMS41ODggMzIuMzg0LDEuMTY3IDMyLjA3NSwwLjg1IDMxLjc2NywwLjUzMyAzMS4zNTEsMC4zMTIgMzAuODI1LDAuMTg3IDMwLjMsMC4wNjIgMjkuNjQ2LDAgMjguODYxLDAgSCAyNS44NiBDIDI1LjA3NiwwIDI0LjQyMywwLjA2MiAyMy44OTcsMC4xODcgMjMuMzcyLDAuMzEyIDIyLjk1MSwwLjUzMyAyMi42MzQsMC44NSAyMi4zMTcsMS4xNjcgMjIuMDk3LDEuNTg4IDIxLjk3MiwyLjExMyAyMS44NDcsMi42MzggMjEuNzg0LDMuMjkyIDIxLjc4NCw0LjA3NiB2IDIxLjA1OCBjIDAsMS40MDEgLTAuMTA4LDIuNjM5IC0wLjMyNSwzLjcxNSAtMC4yMTcsMS4wNzUgLTAuNTc5LDEuOTc5IC0xLjA4OCwyLjcxMyAtMC41MDksMC43MzMgLTEuMTgsMS4yOTIgLTIuMDEzLDEuNjc1IC0wLjgzNSwwLjM4NCAtMS44NiwwLjU3NiAtMy4wNzcsMC41NzYgLTEuMTgzLDAgLTIuMjcyLC0wLjI1IC0zLjI2MywtMC43NSAtMC45OTMsLTAuNSAtMS44NTYsLTEuMTggLTIuNTg5LC0yLjAzOSBDIDguNjk1LDMwLjE2NSA4LjEyNSwyOS4xNjkgNy43MTYsMjguMDM1IDcuMzA4LDI2LjkwMSA3LjEwNCwyNS43MDkgNy4xMDQsMjQuNDU5IFYgNC4wNzYgQyA3LjEwNCwzLjI5MiA3LjAzNiwyLjYzOCA2LjkwMywyLjExMyA2Ljc3LDEuNTg4IDYuNTQ5LDEuMTY3IDYuMjQsMC44NSA1LjkzMiwwLjUzMyA1LjUxNiwwLjMxMiA0Ljk4OSwwLjE4NyA0LjQ2NSwwLjA2MiAzLjgxLDAgMy4wMjYsMCBaIiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwNy45OTksNjEuMzQ3NykiCiAgICAgICAgICAgaWQ9Imc1NiI+PHBhdGgKICAgICAgICAgICAgIGlkPSJwYXRoNTgiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojMjYzYTY3O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIgogICAgICAgICAgICAgZD0ibSAwLDAgYyAwLjE4NCwtMC43IDAuMjc1LC0xLjI3NSAwLjI3NSwtMS43MjYgMCwtMC41NjYgLTAuMTU5LC0xLjAzNCAtMC40NzUsLTEuNCAtMC4zMTgsLTAuMzY3IC0wLjg1LC0wLjczNCAtMS42MDEsLTEuMSAtMS4xNSwtMC41NjcgLTIuMzkyLC0xLjAzOCAtMy43MjYsLTEuNDEzIC0xLjMzNCwtMC4zNzYgLTIuNzYsLTAuNTYzIC00LjI3NywtMC41NjMgLTEuOTE4LDAgLTMuNjM4LDAuMjQ2IC01LjE2NSwwLjczOCAtMS41MjUsMC40OTEgLTIuODE3LDEuMjI1IC0zLjg3NiwyLjIwMSAtMS4wNTgsMC45NzUgLTEuODcyLDIuMjAxIC0yLjQzOCwzLjY3NiAtMC41NjgsMS40NzYgLTAuODUxLDMuMjA1IC0wLjg1MSw1LjE5IHYgMjIuNzgzIGggLTIuOTAxIGMgLTAuNjk5LDAgLTEuMjg3LDAuMDU4IC0xLjc2MywwLjE3NiAtMC40NzUsMC4xMTYgLTAuODUsMC4zMTIgLTEuMTI1LDAuNTg3IC0wLjI3NSwwLjI3NSAtMC40NzIsMC42NSAtMC41ODgsMS4xMjYgLTAuMTE3LDAuNDc1IC0wLjE3NiwxLjA2MiAtMC4xNzYsMS43NjMgMCwwLjcgMC4wNTksMS4yODggMC4xNzYsMS43NjMgMC4xMTYsMC40NzUgMC4zMTMsMC44NSAwLjU4OCwxLjEyNSAwLjI3NSwwLjI3NiAwLjY1LDAuNDcxIDEuMTI1LDAuNTg4IDAuNDc2LDAuMTE2IDEuMDY0LDAuMTc1IDEuNzYzLDAuMTc1IGggMi45MDEgdiA2LjYyOCBjIDAsMC43ODQgMC4wNjMsMS40MzggMC4xODksMS45NjMgMC4xMjQsMC41MjUgMC4zNDUsMC45NDIgMC42NjIsMS4yNTEgMC4zMTYsMC4zMDggMC43MzcsMC41MjkgMS4yNjMsMC42NjIgMC41MjUsMC4xMzQgMS4xNzksMC4yIDEuOTYzLDAuMiBoIDMuMjAyIGMgMC43ODMsMCAxLjQzNywtMC4wNjYgMS45NjIsLTAuMiAwLjUyNiwtMC4xMzMgMC45NDMsLTAuMzU0IDEuMjUxLC0wLjY2MiAwLjMwOCwtMC4zMDkgMC41MjksLTAuNzI2IDAuNjYzLC0xLjI1MSAwLjEzMywtMC41MjUgMC4yLC0xLjE3OSAwLjIsLTEuOTYzIHYgLTYuNjI4IGggNi4xMDIgYyAwLjY4NCwwIDEuMjUxLC0wLjA1NCAxLjcwMSwtMC4xNjIgMC40NSwtMC4xMDkgMC44MTMsLTAuMyAxLjA4NywtMC41NzUgMC4yNzYsLTAuMjc2IDAuNDY3LC0wLjYzOCAwLjU3NiwtMS4wODkgMC4xMDgsLTAuNDUgMC4xNjMsLTEuMDE3IDAuMTYzLC0xLjcgdiAtMC4yNSBjIDAsLTAuNjg0IC0wLjA1NSwtMS4yNTEgLTAuMTYzLC0xLjcwMSAtMC4xMDksLTAuNDUgLTAuMywtMC44MTMgLTAuNTc2LC0xLjA4NyAtMC4yNzQsLTAuMjc2IC0wLjYzNywtMC40NjggLTEuMDg3LC0wLjU3NiAtMC40NSwtMC4xMDkgLTEuMDE3LC0wLjE2MyAtMS43MDEsLTAuMTYzIGggLTYuMTAyIFYgNy40MDMgYyAwLC0xLjA1IDAuMDc1LC0xLjk3MSAwLjIyNSwtMi43NjMgMC4xNSwtMC43OTIgMC40MDQsLTEuNDU1IDAuNzYzLC0xLjk4OSAwLjM1OCwtMC41MzQgMC44MjksLTAuOTM0IDEuNDEzLC0xLjIgMC41ODMsLTAuMjY2IDEuMzA5LC0wLjQgMi4xNzYsLTAuNCAwLjQ4MywwIDAuOTU5LDAuMDU3IDEuNDI1LDAuMTc1IDAuNDY2LDAuMTE3IDAuOTQyLDAuMjc1IDEuNDI1LDAuNDc1IDAuMzUxLDAuMTMzIDAuNjY0LDAuMjQxIDAuOTM5LDAuMzI1IDAuMjc0LDAuMDgzIDAuNTI4LDAuMTI1IDAuNzYzLDAuMTI1IDAuNDE2LDAgMC43NSwtMC4xNDYgMSwtMC40MzcgMC4yNSwtMC4yOTIgMC40NSwtMC43ODggMC42LC0xLjQ4OCB6IiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYxOS44Nzc5LDk3LjA2MikiCiAgICAgICAgICAgaWQ9Imc2MCI+PHBhdGgKICAgICAgICAgICAgIGlkPSJwYXRoNjIiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojMjYzYTY3O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIgogICAgICAgICAgICAgZD0ibSAwLDAgYyAwLjc4MywwIDEuNDM4LC0wLjA2NyAxLjk2MywtMC4yIDAuNTI1LC0wLjEzNCAwLjk0MiwtMC4zNTUgMS4yNTEsLTAuNjYzIDAuMzA4LC0wLjMwOCAwLjUyOSwtMC43MjUgMC42NjMsLTEuMjUgMC4xMzMsLTAuNTI2IDAuMTk5LC0xLjE4IDAuMTk5LC0xLjk2NCB2IC0zMi44MzggYyAwLC0wLjc4NCAtMC4wNjYsLTEuNDM4IC0wLjE5OSwtMS45NjIgQyAzLjc0MywtMzkuNDAzIDMuNTIyLC0zOS44MjQgMy4yMTQsLTQwLjE0MSAyLjkwNSwtNDAuNDU4IDIuNDg4LC00MC42NzggMS45NjMsLTQwLjgwMyAxLjQzOCwtNDAuOTI4IDAuNzgzLC00MC45OTEgMCwtNDAuOTkxIGggLTMuMDAxIGMgLTAuNzg0LDAgLTEuNDM4LDAuMDYzIC0xLjk2NCwwLjE4OCAtMC41MjQsMC4xMjUgLTAuOTQ2LDAuMzQ1IC0xLjI2MywwLjY2MiAtMC4zMTYsMC4zMTcgLTAuNTM4LDAuNzM4IC0wLjY2MywxLjI2NCAtMC4xMjQsMC41MjQgLTAuMTg3LDEuMTc4IC0wLjE4NywxLjk2MiB2IDMyLjgzOCBjIDAsMC43ODQgMC4wNjMsMS40MzggMC4xODcsMS45NjQgMC4xMjUsMC41MjUgMC4zNDcsMC45NDIgMC42NjMsMS4yNSAwLjMxNywwLjMwOCAwLjczOSwwLjUyOSAxLjI2MywwLjY2MyAwLjUyNiwwLjEzMyAxLjE4LDAuMiAxLjk2NCwwLjIgeiBNIDUuMTAzLDExLjkwNCBDIDUuMTAzLDEwLjk3IDQuOTMxLDEwLjEgNC41ODksOS4yOTEgNC4yNDgsOC40ODIgMy43OCw3Ljc3OCAzLjE4OCw3LjE3OCAyLjU5Nyw2LjU3OCAxLjg5Niw2LjEwMiAxLjA4OCw1Ljc1MiAwLjI3OSw1LjQwMiAtMC41OTIsNS4yMjcgLTEuNTI1LDUuMjI3IGMgLTAuOTM0LDAgLTEuODA1LDAuMTc1IC0yLjYxNCwwLjUyNSAtMC44MDksMC4zNSAtMS41MTcsMC44MjYgLTIuMTI2LDEuNDI2IC0wLjYwOSwwLjYgLTEuMDg5LDEuMzA0IC0xLjQzOCwyLjExMyAtMC4zNSwwLjgwOSAtMC41MjYsMS42NzkgLTAuNTI2LDIuNjEzIDAsMC45MzQgMC4xNzYsMS44MDEgMC41MjYsMi42MDEgMC4zNDksMC44MDEgMC44MjksMS40OTcgMS40MzgsMi4wODkgMC42MDksMC41OTIgMS4zMTcsMS4wNTQgMi4xMjYsMS4zODggMC44MDksMC4zMzMgMS42OCwwLjUgMi42MTQsMC41IDAuOTMzLDAgMS44MDQsLTAuMTY3IDIuNjEzLC0wLjUgMC44MDgsLTAuMzM0IDEuNTA5LC0wLjc5NiAyLjEsLTEuMzg4IDAuNTkyLC0wLjU5MiAxLjA2LC0xLjI4OCAxLjQwMSwtMi4wODkgMC4zNDIsLTAuOCAwLjUxNCwtMS42NjcgMC41MTQsLTIuNjAxIiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYzNi4wODMsNTYuMDcxMykiCiAgICAgICAgICAgaWQ9Imc2NCI+PHBhdGgKICAgICAgICAgICAgIGlkPSJwYXRoNjYiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojMjYzYTY3O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIgogICAgICAgICAgICAgZD0iTSAwLDAgQyAtMC43ODMsMCAtMS40MzcsMC4wNjIgLTEuOTYzLDAuMTg3IC0yLjQ4NywwLjMxMiAtMi45MDksMC41MzMgLTMuMjI2LDAuODUgLTMuNTQzLDEuMTY3IC0zLjc2MywxLjU4OCAtMy44ODksMi4xMTMgLTQuMDE0LDIuNjM4IC00LjA3NiwzLjI5MiAtNC4wNzYsNC4wNzYgdiAzMi44MTMgYyAwLDAuNzgzIDAuMDYyLDEuNDM4IDAuMTg3LDEuOTYzIDAuMTI2LDAuNTI1IDAuMzQ2LDAuOTQyIDAuNjYzLDEuMjUxIDAuMzE3LDAuMzA4IDAuNzM5LDAuNTI5IDEuMjYzLDAuNjYyIDAuNTI2LDAuMTM0IDEuMTgsMC4yMDEgMS45NjMsMC4yMDEgaCAyLjA1MiBjIDAuOTgzLDAgMS44LC0wLjA4IDIuNDUsLTAuMjM4IDAuNjUsLTAuMTU5IDEuMTY3LC0wLjQyNSAxLjU1MSwtMC44IDAuMzg0LC0wLjM3NiAwLjY1NCwtMC44ODQgMC44MTIsLTEuNTI2IDAuMTU5LC0wLjY0MiAwLjIzOSwtMS40MzggMC4yMzksLTIuMzg4IGwgMC4wNDksLTAuMDI2IGMgMC41MTcsMC44MTcgMS4xNzUsMS41ODUgMS45NzYsMi4zMDIgMC44LDAuNzE2IDEuNzA1LDEuMzQxIDIuNzE0LDEuODc1IDEuMDA5LDAuNTM0IDIuMTA4LDAuOTU1IDMuMzAxLDEuMjYzIDEuMTkyLDAuMzA4IDIuNDQ3LDAuNDYzIDMuNzY0LDAuNDYzIDEuOTg0LDAgMy43MDUsLTAuMjE3IDUuMTY0LC0wLjY1IDEuNDU5LC0wLjQzNCAyLjcxLC0xLjA0NyAzLjc1MiwtMS44MzkgMS4wNDEsLTAuNzkyIDEuODkyLC0xLjc1IDIuNTUxLC0yLjg3NiAwLjY1OCwtMS4xMjUgMS4xOCwtMi4zODQgMS41NjMsLTMuNzc2IDAuMzgzLC0xLjM5MiAwLjY0NiwtMi45MDEgMC43ODgsLTQuNTI3IDAuMTQxLC0xLjYyNiAwLjIxMiwtMy4zMyAwLjIxMiwtNS4xMTQgViA0LjA3NiBjIDAsLTAuNzg0IC0wLjA2NywtMS40MzggLTAuMiwtMS45NjMgQyAzMi42MDQsMS41ODggMzIuMzg0LDEuMTY3IDMyLjA3NSwwLjg1IDMxLjc2NywwLjUzMyAzMS4zNTEsMC4zMTIgMzAuODI1LDAuMTg3IDMwLjMsMC4wNjIgMjkuNjQ2LDAgMjguODYxLDAgSCAyNS44NiBDIDI1LjA3NiwwIDI0LjQyMiwwLjA2MiAyMy44OTcsMC4xODcgMjMuMzcyLDAuMzEyIDIyLjk1MSwwLjUzMyAyMi42MzQsMC44NSAyMi4zMTcsMS4xNjcgMjIuMDk3LDEuNTg4IDIxLjk3MiwyLjExMyAyMS44NDcsMi42MzggMjEuNzg0LDMuMjkyIDIxLjc4NCw0LjA3NiB2IDIxLjA1OCBjIDAsMS40MDEgLTAuMTA4LDIuNjM5IC0wLjMyNSwzLjcxNSAtMC4yMTcsMS4wNzUgLTAuNTc5LDEuOTc5IC0xLjA4OCwyLjcxMyAtMC41MDksMC43MzMgLTEuMTgsMS4yOTIgLTIuMDEzLDEuNjc1IC0wLjgzNSwwLjM4NCAtMS44NiwwLjU3NiAtMy4wNzcsMC41NzYgLTEuMTgzLDAgLTIuMjcyLC0wLjI1IC0zLjI2MywtMC43NSAtMC45OTMsLTAuNSAtMS44NTYsLTEuMTggLTIuNTg5LC0yLjAzOSBDIDguNjk1LDMwLjE2NSA4LjEyNSwyOS4xNjkgNy43MTYsMjguMDM1IDcuMzA4LDI2LjkwMSA3LjEwNCwyNS43MDkgNy4xMDQsMjQuNDU5IFYgNC4wNzYgQyA3LjEwNCwzLjI5MiA3LjAzNywyLjYzOCA2LjkwMywyLjExMyA2Ljc3LDEuNTg4IDYuNTQ5LDEuMTY3IDYuMjQsMC44NSA1LjkzMiwwLjUzMyA1LjUxNiwwLjMxMiA0Ljk4OSwwLjE4NyA0LjQ2NSwwLjA2MiAzLjgxLDAgMy4wMjYsMCBaIiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY4Ni4yNTI5LDc3LjQ3OTUpIgogICAgICAgICAgIGlkPSJnNjgiPjxwYXRoCiAgICAgICAgICAgICBpZD0icGF0aDcwIgogICAgICAgICAgICAgc3R5bGU9ImZpbGw6IzI2M2E2NztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICAgIGQ9Im0gMCwwIGMgMCwtMS44NjggMC4xNjcsLTMuNjA1IDAuNTAxLC01LjIxNSAwLjMzMywtMS42MDkgMC44NjYsLTMuMDEgMS42MDEsLTQuMjAxIDAuNzMyLC0xLjE5MiAxLjY5NSwtMi4xMjYgMi44ODcsLTIuODAxIDEuMTkzLC0wLjY3NiAyLjY1NiwtMS4wMTMgNC4zOSwtMS4wMTMgMS4yNjcsMCAyLjQ1MSwwLjI1IDMuNTUyLDAuNzUgMS4xLDAuNTAxIDIuMDQ5LDEuMTc5IDIuODUsMi4wMzkgMC44LDAuODU4IDEuNDMsMS44NTggMS44ODgsMy4wMDEgMC40NTksMS4xNDEgMC42ODcsMi4zNTQgMC42ODcsMy42MzggdiA2Ljk3OCBjIDAsMS41MzQgLTAuMjYxLDIuODkzIC0wLjc4Nyw0LjA3NiAtMC41MjUsMS4xODQgLTEuMjA5LDIuMTgxIC0yLjA1LDIuOTg5IC0wLjg0MiwwLjgwOCAtMS43ODEsMS40MjEgLTIuODE0LDEuODM5IC0xLjAzNCwwLjQxNiAtMi4wNTksMC42MjUgLTMuMDc2LDAuNjI1IC0xLjcwMSwwIC0zLjE1NSwtMC4zMyAtNC4zNjQsLTAuOTg4IEMgNC4wNTYsMTEuMDU4IDMuMDYsMTAuMTU0IDIuMjc2LDkuMDAzIDEuNDkyLDcuODUzIDAuOTE3LDYuNTA2IDAuNTUxLDQuOTY0IDAuMTg0LDMuNDIyIDAsMS43NjcgMCwwIG0gMjkuNzg2LC0xOC4zMzIgYyAwLC0zLjUxOCAtMC4zODMsLTYuNjc0IC0xLjE1LC05LjQ2NyAtMC43NjcsLTIuNzkyIC0yLjAwNSwtNS4xNjQgLTMuNzE0LC03LjExNSAtMS43MDksLTEuOTUgLTMuOTI3LC0zLjQ0MiAtNi42NTIsLTQuNDc3IC0yLjcyNiwtMS4wMzMgLTYuMDQxLC0xLjU1IC05Ljk0MiwtMS41NSAtMS40NSwwIC0yLjk4LDAuMTIxIC00LjU4OSwwLjM2MiAtMS42MDksMC4yNDMgLTMuMTk3LDAuNjg0IC00Ljc2NCwxLjMyNiAtMS41NjgsMC42NDMgLTMuMDY4LDEuNTI2IC00LjUwMiwyLjY1IC0xLjQzNCwxLjEyNiAtMi43MDksMi41NzMgLTMuODI3LDQuMzQgLTAuNTUsMC44NTEgLTAuODI1LDEuNTY4IC0wLjgyNSwyLjE1MSAwLDAuNDg0IDAuMTc5LDAuOTI1IDAuNTM4LDEuMzI1IDAuMzU4LDAuNCAwLjg4NywwLjgxNyAxLjU4OCwxLjI1MSBsIDAuMiwwLjEyNSBjIDAuODUsMC41MzQgMS41NTksMC44MDEgMi4xMjUsMC44MDEgMC40NTEsMCAwLjg3MiwtMC4xNTEgMS4yNjQsLTAuNDUxIDAuMzkyLC0wLjMgMC44MjksLTAuNzUgMS4zMTMsLTEuMzUgMS4zMzQsLTEuNjE3IDIuODcyLC0yLjgxNCA0LjYxNCwtMy41ODkgMS43NDIsLTAuNzc1IDMuNzE0LC0xLjE2MyA1LjkxNSwtMS4xNjMgMS45NjgsMCAzLjY0MywwLjM0MiA1LjAyNiwxLjAyNSAxLjM4NCwwLjY4NCAyLjUxOSwxLjY2OCAzLjQwMywyLjk1MSAwLjg4MiwxLjI4NSAxLjUyOSwyLjg0NyAxLjkzNyw0LjY5IDAuNDA5LDEuODQzIDAuNjEyLDMuOTE0IDAuNjEyLDYuMjE1IHYgMi44NzYgYyAtMC40NjUsLTAuNiAtMS4wNTMsLTEuMjMgLTEuNzYyLC0xLjg4OCAtMC43MDgsLTAuNjU5IC0xLjUzOCwtMS4yNjggLTIuNDg5LC0xLjgyNiAtMC45NSwtMC41NTkgLTIuMDI1LC0xLjAxOCAtMy4yMjUsLTEuMzc1IC0xLjIwMSwtMC4zNTkgLTIuNTI2LC0wLjUzOCAtMy45NzcsLTAuNTM4IC0zLjAxOCwwIC01LjY5OSwwLjUyIC04LjA0MSwxLjU2MiAtMi4zNDIsMS4wNDIgLTQuMzE0LDIuNDY4IC01LjkxNSw0LjI3OCAtMS42LDEuODA4IC0yLjgxMywzLjk0NyAtMy42MzgsNi40MTUgLTAuODI2LDIuNDY2IC0xLjIzOSw1LjEyNyAtMS4yMzksNy45NzcgMCwyLjg1MiAwLjQwOSw1LjU2MSAxLjIyNiw4LjEyOSAwLjgxNiwyLjU2NyAyLjAyNiw0LjgyNiAzLjYyNyw2Ljc3NyAxLjYsMS45NTEgMy41NzEsMy41MDEgNS45MTQsNC42NTIgMi4zNDMsMS4xNSA1LjA0LDEuNzI1IDguMDkxLDEuNzI1IDEuMzAxLDAgMi41MjEsLTAuMTQxIDMuNjY0LC0wLjQyNCAxLjE0MSwtMC4yODQgMi4xOTIsLTAuNjggMy4xNTEsLTEuMTg4IDAuOTU4LC0wLjUwOSAxLjgyMSwtMS4xMjYgMi41ODgsLTEuODUxIDAuNzY3LC0wLjcyNiAxLjQyNiwtMS41MjIgMS45NzYsLTIuMzg5IGwgMC4wNDksMC4wMjUgYyAwLDAuOTUxIDAuMDgxLDEuNzM5IDAuMjM5LDIuMzY0IDAuMTU4LDAuNjI1IDAuNDI4LDEuMTI1IDAuODEyLDEuNTAxIDAuMzg0LDAuMzc1IDAuODk3LDAuNjQxIDEuNTM4LDAuOCAwLjY0MiwwLjE1OCAxLjQ0NywwLjIzOCAyLjQxNCwwLjIzOCBoIDIuMzUxIGMgMC43ODMsMCAxLjQzOCwtMC4wNjcgMS45NjMsLTAuMjAxIDAuNTI1LC0wLjEzMyAwLjk0MSwtMC4zNTQgMS4yNTEsLTAuNjYzIDAuMzA4LC0wLjMwOCAwLjUyOSwtMC43MjUgMC42NjMsLTEuMjUgMC4xMzMsLTAuNTI1IDAuMTk5LC0xLjE4IDAuMTk5LC0xLjk2MyB6IiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4NS45MDM4LDgxLjU1NTcpIgogICAgICAgICAgIGlkPSJnNzIiPjxwYXRoCiAgICAgICAgICAgICBpZD0icGF0aDc0IgogICAgICAgICAgICAgc3R5bGU9ImZpbGw6Izc3YjgyZTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICAgIGQ9Im0gMCwwIGMgMCwwLjkxNyAtMC4xNjMsMS44OTcgLTAuNDg4LDIuOTM5IC0wLjMyNSwxLjA0MSAtMC44MzcsMi4wMDEgLTEuNTM4LDIuODc2IC0wLjcsMC44NzUgLTEuNiwxLjYwMSAtMi43MDEsMi4xNzYgLTEuMSwwLjU3NSAtMi40MjUsMC44NjMgLTMuOTc2LDAuODYzIC0xLjE1MSwwIC0yLjE3NiwtMC4xNjMgLTMuMDc3LC0wLjQ4OCAtMC45LC0wLjMyNSAtMS43LC0wLjc0NiAtMi40MDEsLTEuMjYzIC0wLjY5OSwtMC41MTcgLTEuMjk2LC0xLjEwMSAtMS43ODgsLTEuNzUxIC0wLjQ5MSwtMC42NSAtMC44OTIsLTEuMzA1IC0xLjIsLTEuOTYzIEMgLTE3LjQ3OCwyLjczIC0xNy43MDcsMi4xMDUgLTE3Ljg1NywxLjUxMyAtMTguMDA3LDAuOTIxIC0xOC4wODIsMC40MTcgLTE4LjA4MiwwIFogbSA5LjE3OSwtMTcuMTA2IGMgLTAuODM0LC0xLjMxOCAtMS44MDUsLTIuNTQzIC0yLjkxNCwtMy42NzcgLTEuMTA5LC0xLjEzNCAtMi4zOCwtMi4xMTcgLTMuODE0LC0yLjk1MSAtMS40MzQsLTAuODM0IC0zLjA1NSwtMS40ODggLTQuODY1LC0xLjk2MyAtMS44MDksLTAuNDc1IC0zLjgzOCwtMC43MTMgLTYuMDg5LC0wLjcxMyAtMy4zMzUsMCAtNi4zMjgsMC41MzQgLTguOTc4LDEuNiAtMi42NTIsMS4wNjcgLTQuOTAzLDIuNTUxIC02Ljc1Myw0LjQ1MyAtMS44NTEsMS45IC0zLjI2OCw0LjE1MSAtNC4yNTIsNi43NTMgLTAuOTg0LDIuNiAtMS40NzUsNS40MzQgLTEuNDc1LDguNTAyIDAsMy4xNTEgMC41MTYsNi4wNDQgMS41NSw4LjY3OSAxLjAzNCwyLjYzNCAyLjQ4OSw0LjkwMiA0LjM2NCw2LjgwMiAxLjg3NiwxLjkgNC4xMywzLjM4IDYuNzY1LDQuNDM5IDIuNjM1LDEuMDU5IDUuNTYxLDEuNTg4IDguNzc5LDEuNTg4IDAuODgzLDAgMS45NTEsLTAuMDcxIDMuMjAxLC0wLjIxMiAxLjI1LC0wLjE0MiAyLjU2NCwtMC40NDYgMy45MzksLTAuOTEzIDEuMzc2LC0wLjQ2NyAyLjc1NSwtMS4xMyA0LjEzOSwtMS45ODggQyA0LjE2LDEyLjQzNCA1LjQ0LDExLjI4NCA2LjYxNSw5Ljg0MSA3Ljc5MSw4LjM5OSA4Ljc5NSw2LjYzMiA5LjYyOSw0LjU0IGMgMC44MzMsLTIuMDkzIDEuMzkyLC00LjYwNyAxLjY3NSwtNy41NDEgMC4wMTcsLTAuMTg0IDAuMDI5LC0wLjM1IDAuMDM4LC0wLjUgMC4wMDgsLTAuMTUgMC4wMTIsLTAuMzAxIDAuMDEyLC0wLjQ1IDAsLTEuMTg1IC0wLjMwNCwtMi4wMDEgLTAuOTEyLC0yLjQ1MSBDIDkuODMzLC02Ljg1MyA4LjgyOSwtNy4wNzggNy40MjgsLTcuMDc4IGggLTI1LjY2IGMgMCwtMC43ODMgMC4wOTEsLTEuNjA5IDAuMjc1LC0yLjQ3NiAwLjE4NCwtMC44NjcgMC40NzEsLTEuNzI5IDAuODYzLC0yLjU4OCAwLjM5MiwtMC44NTkgMC44OTIsLTEuNjc1IDEuNSwtMi40NTEgMC42MDksLTAuNzc1IDEuMzM5LC0xLjQ2MyAyLjE4OSwtMi4wNjMgMC44NSwtMC42IDEuODIxLC0xLjA3NiAyLjkxNCwtMS40MjYgMS4wOTEsLTAuMzUgMi4zMjEsLTAuNTI1IDMuNjg4LC0wLjUyNSAxLjk4NCwwIDMuODY4LDAuMzYzIDUuNjUzLDEuMDg3IDEuNzg0LDAuNzI2IDMuNDI2LDEuODczIDQuOTI2LDMuNDQgMC40NTEsMC40ODMgMC44NTUsMC44NDYgMS4yMTQsMS4wODggMC4zNTgsMC4yNDEgMC43MzcsMC4zNjIgMS4xMzcsMC4zNjIgMC40ODQsMCAxLjA3NiwtMC4yMTcgMS43NzYsLTAuNjQ5IGwgMC4yLC0wLjEyNiBjIDAuNTg0LC0wLjMxNyAxLjAxNywtMC42MzQgMS4zMDEsLTAuOTUgMC4yODMsLTAuMzE3IDAuNDI1LC0wLjY2NyAwLjQyNSwtMS4wNTEgMCwtMC40NSAtMC4yMTcsLTEuMDE3IC0wLjY1LC0xLjciIC8+PC9nPjxnCiAgICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIzLjg0MzMsNTkuNTk3NykiCiAgICAgICAgICAgaWQ9Imc3NiI+PHBhdGgKICAgICAgICAgICAgIGlkPSJwYXRoNzgiCiAgICAgICAgICAgICBzdHlsZT0iZmlsbDojNzdiODJlO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIgogICAgICAgICAgICAgZD0iTSAwLDAgQyAtMC4zLC0wLjczNCAtMC41OTYsLTEuMzMgLTAuODg4LC0xLjc4OCAtMS4xOCwtMi4yNDcgLTEuNTIxLC0yLjYwNSAtMS45MTMsLTIuODY0IC0yLjMwNSwtMy4xMjMgLTIuNzY4LC0zLjI5OCAtMy4zMDEsLTMuMzg5IC0zLjgzNSwtMy40ODEgLTQuNDk0LC0zLjUyNiAtNS4yNzcsLTMuNTI2IGggLTAuMjUgYyAtMC44MDEsMCAtMS40NjcsMC4wNDUgLTIuMDAxLDAuMTM3IC0wLjUzNCwwLjA5MSAtMC45OTYsMC4yNjYgLTEuMzg4LDAuNTI1IC0wLjM5MiwwLjI1OSAtMC43MzMsMC42MTcgLTEuMDI1LDEuMDc2IC0wLjI5MiwwLjQ1OCAtMC41ODgsMS4wNTQgLTAuODg4LDEuNzg4IEwgLTI0LjkxLDMzLjY4OCBjIC0wLjMzMywwLjgxNiAtMC41LDEuNDgzIC0wLjUsMiAwLDAuNjM0IDAuMjQyLDEuMDg0IDAuNzI1LDEuMzUxIDAuNDg0LDAuMjY3IDEuMjQyLDAuNCAyLjI3NiwwLjQgaCAzLjk1MiBjIDAuODUxLDAgMS41NTksLTAuMDUgMi4xMjYsLTAuMTUgMC41NjYsLTAuMSAxLjA1NCwtMC4yODggMS40NjMsLTAuNTYyIDAuNDA4LC0wLjI3NSAwLjc2MywtMC42NjMgMS4wNjMsLTEuMTY0IDAuMywtMC41IDAuNiwtMS4xNDIgMC45LC0xLjkyNSBMIC00LjY3NywxMi4zOCAzLjYyNiwzMy42MzggYyAwLjMwMSwwLjc4MyAwLjYwMSwxLjQyNSAwLjkwMSwxLjkyNSAwLjMsMC41MDEgMC42NTQsMC44ODkgMS4wNjMsMS4xNjQgMC40MDgsMC4yNzQgMC44OTYsMC40NjIgMS40NjMsMC41NjIgMC41NjcsMC4xIDEuMjc2LDAuMTUgMi4xMjUsMC4xNSBoIDIuMzc2IGMgMS4wMzQsMCAxLjc5MywtMC4xMzcgMi4yNzcsLTAuNDEzIDAuNDgzLC0wLjI3NSAwLjcyNSwtMC43MjkgMC43MjUsLTEuMzYyIDAsLTAuNDg0IC0wLjE2NywtMS4xNTEgLTAuNTAxLC0yLjAwMSB6IiAvPjwvZz48ZwogICAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2OS44MTA1LDgxLjU1NTcpIgogICAgICAgICAgIGlkPSJnODAiPjxwYXRoCiAgICAgICAgICAgICBpZD0icGF0aDgyIgogICAgICAgICAgICAgc3R5bGU9ImZpbGw6Izc3YjgyZTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICAgIGQ9Ik0gMCwwIEMgMCwwLjkxNyAtMC4xNjIsMS44OTcgLTAuNDg3LDIuOTM5IC0wLjgxMywzLjk4IC0xLjMyNSw0Ljk0IC0yLjAyNiw1LjgxNSAtMi43MjcsNi42OSAtMy42MjcsNy40MTYgLTQuNzI3LDcuOTkxIGMgLTEuMSwwLjU3NSAtMi40MjUsMC44NjMgLTMuOTc2LDAuODYzIC0xLjE1MSwwIC0yLjE3NiwtMC4xNjMgLTMuMDc2LC0wLjQ4OCAtMC45MDEsLTAuMzI1IC0xLjcwMSwtMC43NDYgLTIuNDAyLC0xLjI2MyAtMC43LC0wLjUxNyAtMS4yOTcsLTEuMTAxIC0xLjc4OCwtMS43NTEgLTAuNDkyLC0wLjY1IC0wLjg5MiwtMS4zMDUgLTEuMiwtMS45NjMgQyAtMTcuNDc4LDIuNzMgLTE3LjcwNywyLjEwNSAtMTcuODU3LDEuNTEzIC0xOC4wMDcsMC45MjEgLTE4LjA4MiwwLjQxNyAtMTguMDgyLDAgWiBtIDkuMTc5LC0xNy4xMDYgYyAtMC44MzQsLTEuMzE4IC0xLjgwNiwtMi41NDMgLTIuOTE0LC0zLjY3NyAtMS4xMDksLTEuMTM0IC0yLjM4LC0yLjExNyAtMy44MTQsLTIuOTUxIC0xLjQzNCwtMC44MzQgLTMuMDU1LC0xLjQ4OCAtNC44NjUsLTEuOTYzIC0xLjgwOSwtMC40NzUgLTMuODM5LC0wLjcxMyAtNi4wODksLTAuNzEzIC0zLjMzNSwwIC02LjMyOCwwLjUzNCAtOC45NzgsMS42IC0yLjY1MiwxLjA2NyAtNC45MDMsMi41NTEgLTYuNzUzLDQuNDUzIC0xLjg1MSwxLjkgLTMuMjY5LDQuMTUxIC00LjI1Miw2Ljc1MyAtMC45ODQsMi42IC0xLjQ3Niw1LjQzNCAtMS40NzYsOC41MDIgMCwzLjE1MSAwLjUxNyw2LjA0NCAxLjU1MSw4LjY3OSAxLjAzMywyLjYzNCAyLjQ4OCw0LjkwMiA0LjM2NCw2LjgwMiAxLjg3NiwxLjkgNC4xMzEsMy4zOCA2Ljc2Niw0LjQzOSAyLjYzNCwxLjA1OSA1LjU1OSwxLjU4OCA4Ljc3OCwxLjU4OCAwLjg4MywwIDEuOTUsLTAuMDcxIDMuMjAxLC0wLjIxMiAxLjI1LC0wLjE0MiAyLjU2NCwtMC40NDYgMy45MzksLTAuOTEzIDEuMzc2LC0wLjQ2NyAyLjc1NSwtMS4xMyA0LjEzOCwtMS45ODggMS4zODQsLTAuODU5IDIuNjY0LC0yLjAwOSAzLjg0LC0zLjQ1MiAxLjE3NiwtMS40NDIgMi4xOCwtMy4yMDkgMy4wMTQsLTUuMzAxIDAuODMzLC0yLjA5MyAxLjM5MiwtNC42MDcgMS42NzYsLTcuNTQxIDAuMDE1LC0wLjE4NCAwLjAyOCwtMC4zNSAwLjAzNywtMC41IDAuMDA4LC0wLjE1IDAuMDEyLC0wLjMwMSAwLjAxMiwtMC40NSAwLC0xLjE4NSAtMC4zMDQsLTIuMDAxIC0wLjkxMywtMi40NTEgQyA5LjgzMywtNi44NTMgOC44MjgsLTcuMDc4IDcuNDI4LC03LjA3OCBoIC0yNS42NiBjIDAsLTAuNzgzIDAuMDkxLC0xLjYwOSAwLjI3NSwtMi40NzYgMC4xODQsLTAuODY3IDAuNDcxLC0xLjcyOSAwLjg2MywtMi41ODggMC4zOTIsLTAuODU5IDAuODkyLC0xLjY3NSAxLjUsLTIuNDUxIDAuNjA5LC0wLjc3NSAxLjMzOCwtMS40NjMgMi4xODksLTIuMDYzIDAuODUsLTAuNiAxLjgyMSwtMS4wNzYgMi45MTQsLTEuNDI2IDEuMDkyLC0wLjM1IDIuMzIxLC0wLjUyNSAzLjY4OCwtMC41MjUgMS45ODUsMCAzLjg2OCwwLjM2MyA1LjY1MywxLjA4NyAxLjc4NCwwLjcyNiAzLjQyNSwxLjg3MyA0LjkyNiwzLjQ0IDAuNDUxLDAuNDgzIDAuODU1LDAuODQ2IDEuMjEzLDEuMDg4IDAuMzU5LDAuMjQxIDAuNzM5LDAuMzYyIDEuMTM4LDAuMzYyIDAuNDgzLDAgMS4wNzYsLTAuMjE3IDEuNzc2LC0wLjY0OSBsIDAuMiwtMC4xMjYgYyAwLjU4NCwtMC4zMTcgMS4wMTcsLTAuNjM0IDEuMywtMC45NSAwLjI4NCwtMC4zMTcgMC40MjYsLTAuNjY3IDAuNDI2LC0xLjA1MSAwLC0wLjQ1IC0wLjIxNywtMS4wMTcgLTAuNjUsLTEuNyIgLz48L2c+PGcKICAgICAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMTEuODc3LDkyLjAzNDcpIgogICAgICAgICAgIGlkPSJnODQiPjxwYXRoCiAgICAgICAgICAgICBpZD0icGF0aDg2IgogICAgICAgICAgICAgc3R5bGU9ImZpbGw6Izc3YjgyZTtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICAgIGQ9Im0gMCwwIGMgMCwtMC42IC0wLjA0NywtMS4wOTYgLTAuMTM4LC0xLjQ4OCAtMC4wOTEsLTAuMzkyIC0wLjIzOCwtMC43MDkgLTAuNDM3LC0wLjk1IC0wLjIsLTAuMjQyIC0wLjQ1OSwtMC40MDkgLTAuNzc2LC0wLjUgLTAuMzE3LC0wLjA5MiAtMC43LC0wLjEzOCAtMS4xNTEsLTAuMTM4IC0wLjIxNywwIC0wLjQzNywwLjAwOCAtMC42NjIsMC4wMjUgLTAuMjI2LDAuMDE3IC0wLjQ4LDAuMDQyIC0wLjc2MywwLjA3NSAtMC4yNSwwLjAzMyAtMC41MDUsMC4wNTggLTAuNzYyLDAuMDc1IC0wLjI1OSwwLjAxNyAtMC41MywwLjAyNSAtMC44MTQsMC4wMjUgLTEuMjMzLDAgLTIuMzc2LC0wLjIgLTMuNDI2LC0wLjYwMSAtMS4wNSwtMC4zOTkgLTEuOTY0LC0wLjk4MyAtMi43MzksLTEuNzUgLTAuNzc0LC0wLjc2NyAtMS4zODQsLTEuNyAtMS44MjUsLTIuODAxIC0wLjQ0MiwtMS4xIC0wLjY2MywtMi4zNTEgLTAuNjYzLC0zLjc1MSB2IC0yMC4xMDggYyAwLC0wLjc4NCAtMC4wNjcsLTEuNDM5IC0wLjE5OSwtMS45NjMgLTAuMTM0LC0wLjUyNSAtMC4zNTUsLTAuOTQ2IC0wLjY2NCwtMS4yNjQgLTAuMzA4LC0wLjMxNiAtMC43MjUsLTAuNTM3IC0xLjI1MSwtMC42NjIgLTAuNTI0LC0wLjEyNSAtMS4xNzksLTAuMTg3IC0xLjk2MiwtMC4xODcgaCAtMy4wNzcgYyAtMC43ODQsMCAtMS40MzgsMC4wNjIgLTEuOTYyLDAuMTg3IC0wLjUyNiwwLjEyNSAtMC45NDgsMC4zNDYgLTEuMjY0LDAuNjYyIC0wLjMxNywwLjMxOCAtMC41MzcsMC43MzkgLTAuNjYzLDEuMjY0IC0wLjEyNCwwLjUyNCAtMC4xODgsMS4xNzkgLTAuMTg4LDEuOTYzIFYgMC45MjYgYyAwLDAuNzgzIDAuMDY0LDEuNDM4IDAuMTg4LDEuOTYzIDAuMTI2LDAuNTI1IDAuMzQ2LDAuOTQyIDAuNjYzLDEuMjUgMC4zMTYsMC4zMDkgMC43MzgsMC41MjkgMS4yNjQsMC42NjMgMC41MjQsMC4xMzQgMS4xNzgsMC4yIDEuOTYyLDAuMiBoIDIuNDc2IGMgMC45LDAgMS42NTEsLTAuMDc1IDIuMjUxLC0wLjIyNSAwLjYwMSwtMC4xNSAxLjA3OSwtMC40IDEuNDM4LC0wLjc1IDAuMzU5LC0wLjM1IDAuNjEzLC0wLjgxOCAwLjc2MywtMS40MDEgMC4xNSwtMC41ODQgMC4yMjUsLTEuMzE3IDAuMjI1LC0yLjIwMSBoIDAuMDUxIGMgMC4zODIsMC43MzQgMC45MjQsMS40MzQgMS42MjUsMi4xMDEgMC43LDAuNjY3IDEuNTAxLDEuMjUgMi40MDEsMS43NTEgMC45LDAuNSAxLjg3MSwwLjkgMi45MTMsMS4yMDEgMS4wNDIsMC4yOTkgMi4wODksMC40NDkgMy4xMzksMC40NDkgMC44MzQsMCAxLjUxMywtMC4wODcgMi4wMzksLTAuMjYyIEMgLTEuNDY0LDUuNDkgLTEuMDU2LDUuMjE1IC0wLjc2NCw0Ljg0IC0wLjQ3Miw0LjQ2NCAtMC4yNzEsMy45OCAtMC4xNjMsMy4zODkgLTAuMDU1LDIuNzk3IDAsMi4wODQgMCwxLjI1IFoiIC8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPgo=' alt="<?php esc_attr_e( 'Ever Accounting', 'wp-ever-accounting' ); ?>"/>
			</a>
		</h1>
		<?php
	}

	/**
	 * Setup Wizard Footer.
	 */
	public function setup_wizard_footer() {
		$current_step = $this->step;
		?>
		<?php do_action( 'eac_accounting_setup_footer' ); ?>
		</body>
		</html>
		<?php
	}

	/**
	 * Output the steps.
	 */
	public function setup_wizard_steps() {
		$output_steps = $this->steps;
		?>
		<ol class="eac-setup-steps">
			<?php
			foreach ( $output_steps as $step_key => $step ) {
				$is_completed = array_search( $this->step, array_keys( $this->steps ), true ) > array_search( $step_key, array_keys( $this->steps ), true );

				if ( $step_key === $this->step ) {
					?>
					<li class="active"><?php echo esc_html( $step['name'] ); ?></li>
					<?php
				} elseif ( $is_completed ) {
					?>
					<li class="done">
						<a href="<?php echo esc_url( add_query_arg( 'step', $step_key, remove_query_arg( 'activate_error' ) ) ); ?>"><?php echo esc_html( $step['name'] ); ?></a>
					</li>
					<?php
				} else {
					?>
					<li><?php echo esc_html( $step['name'] ); ?></li>
					<?php
				}
			}
			?>
		</ol>
		<?php
	}

	/**
	 * Output the content for the current step.
	 */
	public function setup_wizard_content() {
		echo '<div class="eac-setup-content">';
		if ( ! empty( $this->steps[ $this->step ]['view'] ) ) {
			call_user_func( $this->steps[ $this->step ]['view'], $this );
		}
		echo '</div>';
	}

	/**
	 * Introducing the setup.
	 *
	 * @since 1.0.2
	 */
	public function setup_introduction() {
		?>
		<h2><?php esc_html_e( 'Welcome!', 'wp-ever-accounting' ); ?></h2>
		<p><?php esc_html_e( 'Thank you for choosing WP Ever Accounting to manage your accounting! This quick setup wizard will help you configure the basic settings.', 'wp-ever-accounting' ); ?></p>
		<p class="eac-setup-actions step">
			<a href="<?php echo esc_url( $this->get_next_step_link() ); ?>" class="button-primary button button-large button-next"><?php esc_html_e( 'Let\'s Go!', 'wp-ever-accounting' ); ?></a>
		</p>
		<?php
	}

	/**
	 * Business info setup.
	 *
	 * @since 1.0.2
	 */
	public function business_settings() {
		?>
		<h2><?php esc_html_e( 'Business Setup', 'wp-ever-accounting' ); ?></h2>
		<form method="post">
			<?php
			// Business Name.
			eac_form_field(
				array(
					'label'       => __( 'Business Name', 'wp-ever-accounting' ),
					'type'        => 'text',
					'name'        => 'eac_business_name',
					'placeholder' => __( 'Business Name', 'wp-ever-accounting' ),
					'required'    => true,
					'value'       => get_option( 'eac_business_name', '' ),
				)
			);

			// Business Email.
			eac_form_field(
				array(
					'label'    => __( 'Business Email', 'wp-ever-accounting' ),
					'name'     => 'eac_business_email',
					'default'  => get_option( 'admin_email' ),
					'required' => true,
					'type'     => 'email',
					'value'    => get_option( 'eac_business_email', '' ),
				)
			);

			// Business Address.
			eac_form_field(
				array(
					'label' => __( 'Business Address', 'wp-ever-accounting' ),
					'name'  => 'eac_business_address',
					'type'  => 'textarea',
					'value' => get_option( 'eac_business_address', '' ),
				)
			);

			// City.
			eac_form_field(
				array(
					'label'       => __( 'City', 'wp-ever-accounting' ),
					'name'        => 'eac_business_city',
					'required'    => true,
					'type'        => 'text',
					'value'       => get_option( 'eac_business_city', '' ),
					'placeholder' => __( 'e.g. Manhattan', 'wp-ever-accounting' ),
				)
			);

			// State.
			eac_form_field(
				array(
					'label'       => __( 'State', 'wp-ever-accounting' ),
					'name'        => 'eac_business_state',
					'required'    => true,
					'type'        => 'text',
					'value'       => get_option( 'eac_business_state', '' ),
					'placeholder' => __( 'e.g. New York', 'wp-ever-accounting' ),
				)
			);

			// ZIP.
			eac_form_field(
				array(
					'label'       => __( 'ZIP', 'wp-ever-accounting' ),
					'name'        => 'eac_business_zip',
					'required'    => true,
					'type'        => 'text',
					'value'       => get_option( 'eac_business_zip', '' ),
					'placeholder' => __( 'e.g. 10001', 'wp-ever-accounting' ),
				)
			);

			// Country.
			eac_form_field(
				array(
					'label'       => __( 'Country', 'wp-ever-accounting' ),
					'name'        => 'eac_business_country',
					'required'    => true,
					'class'       => 'eac_select2',
					'options'     => I18nUtil::get_countries(),
					'default'     => 'US',
					'type'        => 'select',
					'value'       => get_option( 'eac_business_country', '' ),
					'placeholder' => __( 'Select a country&hellip;', 'wp-ever-accounting' ),
				)
			);
			?>
			<p class="eac-setup-actions step">
				<input
					type="submit"
					class="button-primary button button-large button-next"
					value="<?php esc_attr_e( 'Continue', 'wp-ever-accounting' ); ?>"
					name="save_step"/>
				<?php wp_nonce_field( 'eac_business_setup' ); ?>
			</p>
		</form>
		<?php
	}

	/**
	 * Business settings save.
	 *
	 * @since 1.0.2
	 */
	public function business_settings_save() {
		check_admin_referer( 'eac_business_setup' );
		$business_name    = filter_input( INPUT_POST, 'eac_business_name', FILTER_SANITIZE_STRING );
		$business_email   = filter_input( INPUT_POST, 'eac_business_email', FILTER_SANITIZE_EMAIL );
		$business_address = filter_input( INPUT_POST, 'eac_business_address', FILTER_SANITIZE_STRING );
		$business_city    = filter_input( INPUT_POST, 'eac_business_city', FILTER_SANITIZE_STRING );
		$business_state   = filter_input( INPUT_POST, 'eac_business_state', FILTER_SANITIZE_STRING );
		$business_zip     = filter_input( INPUT_POST, 'eac_business_zip', FILTER_SANITIZE_STRING );
		$business_country = filter_input( INPUT_POST, 'eac_business_country', FILTER_SANITIZE_STRING );

		if ( ! empty( $business_name ) ) {
			update_option( 'eac_business_name', sanitize_text_field( $business_name ) );
		}
		if ( ! empty( $business_email ) ) {
			update_option( 'eac_business_email', sanitize_email( $business_email ) );
		}
		if ( ! empty( $business_address ) ) {
			update_option( 'eac_business_address', sanitize_textarea_field( $business_address ) );
		}
		if ( ! empty( $business_city ) ) {
			update_option( 'eac_business_city', sanitize_text_field( $business_city ) );
		}
		if ( ! empty( $business_state ) ) {
			update_option( 'eac_business_state', sanitize_text_field( $business_state ) );
		}
		if ( ! empty( $business_zip ) ) {
			update_option( 'eac_business_zip', sanitize_text_field( $business_zip ) );
		}
		if ( ! empty( $business_country ) ) {
			update_option( 'eac_business_country', sanitize_text_field( $business_country ) );
		}

		wp_safe_redirect( esc_url_raw( $this->get_next_step_link() ) );
		exit;
	}

	/**
	 * Currency settings.
	 *
	 * @since 1.0.2
	 */
	public function currency_settings() {
		$codes = eac_get_currencies();

		$options = array();
		foreach ( $codes as $code => $props ) {
			$options[ $code ] = sprintf( '%s (%s)', $props['code'], $props['symbol'] );
		}

		$currencies = eac_get_currencies( array( 'return' => 'array' ) );

		?>
		<h2><?php esc_html_e( 'Currency Setup', 'wp-ever-accounting' ); ?></h2>
		<p><?php esc_html__( 'Default currency rate should be always 1 & additional currency rates should be equivalent of default currency. e.g. If USD is your default currency then USD rate is 1 & GBP rate will be 0.77', 'wp-ever-accounting' ); ?></p>
		<form action="" method="post">
			<?php
			eac_form_field(
				array(
					'label'   => __( 'Base Currency', 'wp-ever-accounting' ),
					'name'    => 'eac_base_currency',
					'type'    => 'select',
					'class'   => 'eac_select2',
					'value'   => get_option( 'eac_base_currency', 'USD' ),
					'options' => wp_list_pluck( eac_get_currencies(), 'formatted_name', 'code' ),
				)
			);
			?>

			<h2><?php esc_html_e( 'Exchange Rates', 'wp-ever-accounting' ); ?></h2>
			<?php
			$currencies = eac_get_currencies();
			unset( $currencies[ eac_base_currency() ] );
			$rates = get_option( 'eac_exchange_rates', array() );
			?>
			<tr valign="top">
				<td class="forminp forminp-exchange_rates">
					<?php include __DIR__ . '/views/exchange-rates.php'; ?>
				</td>
			</tr>

			<p class="eac-setup-actions step">
				<input type="submit" class="button-primary button button-large button-next" value="<?php esc_attr_e( 'Continue', 'wp-ever-accounting' ); ?>" name="save_step"/>
				<?php wp_nonce_field( 'eac_currency_settings' ); ?>
			</p>
		</form>
		<?php
	}

	/**
	 * Currency settings save.
	 *
	 * @since 1.0.2
	 */
	public function currency_settings_save() {
		check_admin_referer( 'eac_currency_settings' );

		// Update and save eac_base_currency.
		$base_currency = filter_input( INPUT_POST, 'eac_base_currency', FILTER_SANITIZE_STRING );

		if ( ! empty( $base_currency ) ) {
			update_option( 'eac_base_currency', sanitize_text_field( $base_currency ) );
		}

		// Update and save eac_exchange_rates.
		$exchange_rates = filter_input( INPUT_POST, 'eac_exchange_rates', FILTER_DEFAULT, FILTER_REQUIRE_ARRAY );
		if ( ! empty( $exchange_rates ) ) {
			update_option( 'eac_exchange_rates', $exchange_rates );
		}

		update_option( 'eac_setup_wizard_completed', true );
		wp_safe_redirect( esc_url_raw( $this->get_next_step_link() ) );
		exit;
	}

	/**
	 * Finishing the setup.
	 *
	 * @since 1.0.2
	 */
	public function finish_setup() {
		?>
		<h2><?php esc_html_e( 'Finish!', 'wp-ever-accounting' ); ?></h2>
		<p><?php esc_html_e( 'You are done with the basic setup of the plugin and ready to use.', 'wp-ever-accounting' ); ?></p>
		<p class="eac-setup-actions step">
			<a href="<?php echo esc_url( admin_url( 'admin.php?page=ever-accounting' ) ); ?>" class="button button-primary"><?php esc_html_e( 'View Dashboard', 'wp-ever-accounting' ); ?></a>
		</p>
		<?php
	}
}
