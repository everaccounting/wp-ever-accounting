function eaccounting_tooltips(t){jQuery(t).tooltip({tooltipClass:"ea-ui-tooltip",position:{my:"center top",at:"center bottom+10",collision:"flipfit"},hide:{duration:200},show:{duration:200}})}function eaccounting_get_currency(e){return!!eaccountingi10n.hasOwnProperty("currencies")&&eaccountingi10n.currencies.find(function(t){return t.code===e})}function eaccounting_mask_amount(t,e){if("object"!=typeof e){if(!eaccountingi10n.hasOwnProperty("currencies"))return!1;if(!(e=eaccountingi10n.currencies.find(function(t){return t.code===t})))return!1}jQuery(t).inputmask("decimal",{alias:"numeric",groupSeparator:e.thousand_separator,autoGroup:!0,digits:e.precision,radixPoint:e.decimal_separator,digitsOptional:!1,allowMinus:!1,prefix:e.symbol,placeholder:"0.000",rightAlign:0,autoUnmask:!0})}function eaccounting_block(t){jQuery(t).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function eaccounting_unblock(t){jQuery(t).unblock()}jQuery(function(e){eaccounting_tooltips(".ea-help-tip"),e(".ea-input-date").datepicker({dateFormat:"yy-mm-dd"}),eaccounting.mask_amount(".ea-input-price"),eaccounting.mask_amount("#opening_balance"),e(document.body).trigger("ea_select2_init"),e("#quantity").on("change keyup",function(t){t.target.value=t.target.value.replace(/[^0-9.]/g,"")}),e(document.body).on("ea_modal_loaded",function(){e(document.body).trigger("ea_select2_init")}),e(".ea-financial-start input").datepicker({dateFormat:"dd-mm"}),e("#eaccounting_settings[financial_year_start]").datepicker({dateFormat:"yy-mm-dd"}),e(document).on("click",function(){e(".ea-dropdown").removeClass("open")}).on("click",".ea-dropdown-trigger",function(t){t.preventDefault(),t.stopPropagation(),e(".ea-dropdown").removeClass("open"),e(this).closest(".ea-dropdown").toggleClass("open")});let o=!1;e(".ea-attachment").on("click",".ea-attachment__upload",function(t){t.preventDefault();const n=e(this),a=e(this).data("allowed-types").split(",");if(o)return o.open(),!1;(o=wp.media({title:"Select or upload attchment",button:{text:"Select"},library:{type:"image"},multiple:!1,custom:"custom"})).on("select",function(){var t=o.state().get("selection").first().toJSON(),e=t.subtype;if(!a.includes(e))return alert("Unsupported Media"),!1;n.closest(".ea-attachment").find(".ea-attachment__input").val(t.id).end().find(".ea-attachment__link").attr("href",t.url).end().find(".ea-attachment__image").attr("src",["jpeg","png","jpg"].includes(e)?t.url:t.icon).end().addClass("has--image")}),o.on("ready",function(){o.uploader.options.uploader.params={type:"eaccounting_file"}}),o.open()}).on("click",".ea-attachment__remove",function(t){t.preventDefault(),e(this).closest(".ea-attachment").find(".ea-attachment__input").val(0).end().find(".ea-attachment__link").attr("href","").end().find(".ea-attachment__image").attr("src","").end().removeClass("has--image")})});