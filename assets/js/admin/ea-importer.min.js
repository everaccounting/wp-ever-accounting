jQuery(function(n){n.eaccounting_importer=function(t,i){this.defaults={},this.form=t,this.$form=n(t),this.$top=n(".ea-importer-top",this.$form),this.$bottom=n(".ea-importer-bottom",this.$form),this.options=n.extend(this.defaults,i),this.action="eaccounting_do_ajax_import",this.nonce=this.$form.data("nonce"),this.type=this.$form.data("type");var s=this;return this.submit=function(t){t.preventDefault();var i=n('input[type="submit"]',s.$top),e=n('input[type="file"]',s.$top);if(i.hasClass("disabled"))return!1;i.addClass("disabled"),e.attr("disabled","disabled"),i.closest("p").append('<span class="spinner is-active"></span>'),n(".ea-batch-notice",s.$form).remove()},this.init=function(){this.$form.on("submit",this.submit)},this.init(),this},n.fn.eaccounting_importer=function(t){return this.each(function(){new n.eaccounting_importer(this,t)})},n(".ea-importer").eaccounting_importer()});