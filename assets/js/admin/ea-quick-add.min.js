jQuery(function(o){var c={init_plugins:function(){o(".ea-ajax-select2").eaccounting_select2(),o(".ea-input-color").ea_color_picker()},success:function(e,t){t.$el.unblock(),o.eaccounting_notice(e.message,"success"),t.closeModal()},error:function(e,t){t.$el.unblock(),e&&e.message||(e.message="No data or status object returned in request"),o.eaccounting_notice(e.message,"error"),t.enableSubmit()},category_modal:function(e,n,a){o(this).ea_backbone_modal({template:"ea-modal-add-category",onSubmit:function(e,t){t.disableSubmit(),t.$el.blockThis(),wp.ajax.post(o.extend({},e,a)).then(function(e){n.eaccounting_select2({data:[{id:result.item.id,text:result.item.name}]}).trigger("change"),c.success(e,t)}).fail(function(e){c.error(e,t)})}})},account_modal:function(e,n,a){o(this).ea_backbone_modal({template:"ea-modal-add-category",onSubmit:function(e,t){t.disableSubmit(),t.$el.blockThis(),wp.ajax.post(o.extend({},e,a)).then(function(e){n.eaccounting_select2({data:[{id:result.item.id,text:result.item.name}]}).trigger("change"),c.success(e,t)}).fail(function(e){c.error(e,t)})}})},init:function(){o(document).on("ea_request_category_modal",this.category_modal).on("ea_backbone_modal_loaded",this.init_plugins)}};c.init()});