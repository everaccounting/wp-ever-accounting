!function(d){function p(e,t){t&&e.append(t.jquery?t.clone():t)}function l(e,t,n){var i,o,a,r=t.clone(n.formValues);n.formValues&&(i=r,o="select, textarea",a=t.find(o),i.find(o).each(function(e,t){d(t).val(a.eq(e).val())})),n.removeScripts&&r.find("script").remove(),n.printContainer?r.appendTo(e):r.each(function(){d(this).children().appendTo(e)})}var f;d.fn.printThis=function(e){f=d.extend({},d.fn.printThis.defaults,e);var t,n,s=this instanceof jQuery?this:d(this),e="printThis-"+(new Date).getTime(),c=(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)?(t='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',(n=document.createElement("iframe")).name="printIframe",n.id=e,n.className="MSIE",document.body.appendChild(n),n.src=t):d("<iframe id='"+e+"' name='printIframe' />").appendTo("body"),d("#"+e));f.debug||c.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),"function"==typeof f.beforePrint&&f.beforePrint(),setTimeout(function(){f.doctypeString&&(o=c,n=f.doctypeString,(o=(o=(o=o.get(0)).contentWindow||o.contentDocument||o).document||o.contentDocument||o).open(),o.write(n),o.close());var e,t,n=c.contents(),i=n.find("head"),o=n.find("body"),a=d("base"),a=!0===f.base&&0<a.length?a.attr("href"):"string"==typeof f.base?f.base:document.location.protocol+"//"+document.location.host,a=(i.append('<base href="'+a+'">'),f.importCSS&&d("link[rel=stylesheet]").each(function(){var e,t=d(this).attr("href");t&&(e=d(this).attr("media")||"all",i.append("<link type='text/css' rel='stylesheet' href='"+t+"' media='"+e+"'>"))}),f.importStyle&&d("style").each(function(){i.append(this.outerHTML)}),f.pageTitle&&i.append("<title>"+f.pageTitle+"</title>"),f.loadCSS&&(d.isArray(f.loadCSS)?jQuery.each(f.loadCSS,function(e,t){i.append("<link type='text/css' rel='stylesheet' href='"+this+"'>")}):i.append("<link type='text/css' rel='stylesheet' href='"+f.loadCSS+"'>")),d("html")[0]),r=(n.find("html").prop("style",a.style.cssText),f.copyTagClasses);r&&(-1!==(r=!0===r?"bh":r).indexOf("b")&&o.addClass(d("body")[0].className),-1!==r.indexOf("h"))&&n.find("html").addClass(a.className),p(o,f.header),f.canvas&&(e=0,s.find("canvas").addBack("canvas").each(function(){d(this).attr("data-printthis",e++)})),l(o,s,f),f.canvas&&o.find("canvas").each(function(){var e=d(this).data("printthis"),e=d('[data-printthis="'+e+'"]');this.getContext("2d").drawImage(e[0],0,0),d.isFunction(d.fn.removeAttr)?e.removeAttr("data-printthis"):d.each(e,function(e,t){t.removeAttribute("data-printthis")})}),f.removeInline&&(r=f.removeInlineSelector||"*",d.isFunction(d.removeAttr)?o.find(r).removeAttr("style"):o.find(r).attr("style","")),p(o,f.footer),a=c,t=f.beforePrintEvent,a=(a=a.get(0)).contentWindow||a.contentDocument||a,"function"==typeof t&&("matchMedia"in a?a.matchMedia("print").addListener(function(e){e.matches&&t()}):a.onbeforeprint=t),setTimeout(function(){c.hasClass("MSIE")?(window.frames.printIframe.focus(),i.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?c[0].contentWindow.document.execCommand("print",!1,null):(c[0].contentWindow.focus(),c[0].contentWindow.print()),f.debug||setTimeout(function(){c.remove()},1e3),"function"==typeof f.afterPrint&&f.afterPrint()},f.printDelay)},333)},d.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!1,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,removeInlineSelector:"*",printDelay:333,header:null,footer:null,base:!1,formValues:!0,canvas:!1,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!1,beforePrintEvent:null,beforePrint:null,afterPrint:null}}(jQuery);