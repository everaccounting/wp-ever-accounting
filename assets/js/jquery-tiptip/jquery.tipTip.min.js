!function(I){I.fn.tipTip=function(t){var M,w,O,x=I.extend({activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},t);return I("#tiptip_holder").length<=0?(M=I('<div id="tiptip_holder" style="max-width:'+x.maxWidth+';"></div>'),w=I('<div id="tiptip_content"></div>'),O=I('<div id="tiptip_arrow"></div>'),I("body").append(M.html(w).prepend(O.html('<div id="tiptip_arrow_inner"></div>')))):(M=I("#tiptip_holder"),w=I("#tiptip_content"),O=I("#tiptip_arrow")),this.each(function(){var m,g,b=I(this);function t(){x.enter.call(this),w.html(m),M.hide().removeAttr("class").css("margin","0"),O.removeAttr("style");var t=parseInt(b.offset().top),e=parseInt(b.offset().left),o=parseInt(b.outerWidth()),i=parseInt(b.outerHeight()),n=M.outerWidth(),r=M.outerHeight(),a=Math.round((o-n)/2),f=Math.round((i-r)/2),d=Math.round(e+a),u=Math.round(t+i+x.edgeOffset),p="",h="",l=Math.round(n-12)/2;"bottom"==x.defaultPosition?p="_bottom":"top"==x.defaultPosition?p="_top":"left"==x.defaultPosition?p="_left":"right"==x.defaultPosition&&(p="_right");var c=a+e<parseInt(I(window).scrollLeft()),s=n+e>parseInt(I(window).width());c&&a<0||"_right"==p&&!s||"_left"==p&&e<n+x.edgeOffset+5?(p="_right",h=Math.round(r-13)/2,l=-12,d=Math.round(e+o+x.edgeOffset),u=Math.round(t+f)):(s&&a<0||"_left"==p&&!c)&&(p="_left",h=Math.round(r-13)/2,l=Math.round(n),d=Math.round(e-(n+x.edgeOffset+5)),u=Math.round(t+f));var _=t+i+x.edgeOffset+r+8>parseInt(I(window).height()+I(window).scrollTop()),v=t+i-(x.edgeOffset+r+8)<0;_||"_bottom"==p&&_||"_top"==p&&!v?("_top"==p||"_bottom"==p?p="_top":p+="_top",h=r,u=Math.round(t-(r+5+x.edgeOffset))):(v|("_top"==p&&v)||"_bottom"==p&&!_)&&("_top"==p||"_bottom"==p?p="_bottom":p+="_bottom",h=-12,u=Math.round(t+i+x.edgeOffset)),"_right_top"==p||"_left_top"==p?u+=5:"_right_bottom"!=p&&"_left_bottom"!=p||(u-=5),"_left_top"!=p&&"_left_bottom"!=p||(d+=5),O.css({"margin-left":l+"px","margin-top":h+"px"}),M.css({"margin-left":d+"px","margin-top":u+"px"}).attr("class","tip"+p),g&&clearTimeout(g),g=setTimeout(function(){M.stop(!0,!0).fadeIn(x.fadeIn)},x.delay)}function e(){x.exit.call(this),g&&clearTimeout(g),M.fadeOut(x.fadeOut)}""!=(m=x.content?x.content:b.attr(x.attribute))&&(x.content||b.removeAttr(x.attribute),g=!1,"hover"==x.activation?(b.hover(function(){t()},function(){x.keepAlive&&M.is(":hover")||e()}),x.keepAlive&&M.hover(function(){},function(){e()})):"focus"==x.activation?b.focus(function(){t()}).blur(function(){e()}):"click"==x.activation&&(b.click(function(){return t(),!1}).hover(function(){},function(){x.keepAlive||e()}),x.keepAlive&&M.hover(function(){},function(){e()})))})}}(jQuery);