!function(s){var t=Backbone.View.extend({el:".ea-batch-form",events:{submit:"onSubmit"},initialize:function(){this.submitBtn=s('input[type="submit"]',this.$el),this.confirmation=this.submitBtn.data("ays"),_.bindAll(this,"onSubmit","process_step")},onSubmit:function(t){var i;t.preventDefault(),this.submitBtn.hasClass("disabled")||this.confirmation!==undefined&&!confirm(this.confirmation)||(i={batch_id:this.$el.data("batch_id"),nonce:this.$el.data("nonce")},this.submitBtn.addClass("disabled"),this.submitBtn.parent().append('<span class="spinner is-active"></span>'),s(".ea-batch-progress",this.$el).remove(),this.$el.append('<div class="ea-batch-progress"><div></div></div>'),this.process_step(1,i,this))},process_step:function(t,i){wp.send({batch_id:i.batch_id,action:"process_batch_request",nonce:i.nonce,form:i.form,step:t,data:i}),this.$el.find(".ea-batch-progress div").animate({width:"10%"},50,function(){})}});jQuery(document).ready(function(){new t})}(jQuery);