window.eaccounting=window.eaccounting||{},function(n,s,c){"use strict";eaccounting.redirect=function(e){if(!(e=e.trim()))return!1;var t=navigator.userAgent.toLowerCase(),a=-1!==t.indexOf("msie"),n=parseInt(t.substr(4,2),10);if(a&&n<9){var i=c.createElement("a");return i.href=e,c.body.appendChild(i),i.click()}s.location.href=e},eaccounting.output_response=function(e){var t=!1,a=!1;e&&e.success&&e.success&&(t=!0),e&&e.data&&e.data.message&&e.data.message&&(a=e.data.message),a&&n.eaccounting_notice(a,t?"success":"error")}}(jQuery,window,(window.wp,document),undefined),jQuery.fn.serializeObject=function(){var e={},t=this.serializeArray();return jQuery.each(t,function(){e[this.name]!==undefined?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},jQuery.fn.blockThis=function(){return this.each(function(){jQuery(this).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})})},jQuery(function(s){s.fn.eaccounting_select2=function(e){return this.each(function(){new s.eaccounting_select2(this,e)})},s.eaccounting_select2=function(e,t){this.el=e,this.$el=s(e),this.placeholder=this.$el.attr("placeholder"),this.template=this.$el.attr("data-template"),this.nonce=this.$el.attr("data-nonce"),this.type=this.$el.attr("data-type"),this.qadd=this.$el.is("[data-qadd]"),this.qadd=!0===this.qadd,this.ajax=this.$el.is("[data-ajax]"),this.ajax=!0===this.ajax,this.id=this.$el.attr("id"),!this.ajax||this.type&&this.nonce||(console.warn("ajax type defined without nonce and data type"),this.ajax=!1),this.qadd&&!this.template&&(console.warn("modal type defined without template"),this.qadd=!1);var n=this,a={};a.placeholder=this.placeholder,a.allowClear=!1,this.ajax&&(a.ajax={cache:!0,delay:500,url:eaccounting_i10n.ajaxurl,method:"POST",dataType:"json",data:function(e){return console.log({action:"eaccounting_dropdown_search",nonce:n.nonce,search:e.term,page:e.page}),{action:"eaccounting_dropdown_search",nonce:n.nonce,type:n.type,search:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e.results,pagination:{more:e.pagination.more}}}});var i=s.extend({},a,t);return console.log(i),this.$el.select2(i),this.qadd&&n.template&&this.$el.on("select2:open",function(e){var t,a=s("#select2-"+n.id+"-results").closest(".select2-results");a.children(".ea-select2-footer").length||(t=s('<a href="#" class="ea-select2-footer"><span class="dashicons dashicons-plus"></span>Add New</a>').on("click",function(e){e.preventDefault(),n.$el.select2("close"),n.$el.trigger("ea_request_quick_add",[n.$el,n.template])}),a.append(t))}),this.$el},s(".ea-select2").eaccounting_select2({test:"on"})}),jQuery.fn.ea_color_picker=function(){return this.each(function(){var a=this;jQuery(a).iris({change:function(e,t){jQuery(a).parent().find(".colorpickpreview").css({backgroundColor:t.color.toString()})},hide:!0,border:!0}).on("click focus",function(e){e.stopPropagation(),jQuery(".iris-picker").hide(),jQuery(a).closest("div").find(".iris-picker").show(),jQuery(a).data("original-value",jQuery(a).val())}).on("change",function(){jQuery(a).is(".iris-error")&&(jQuery(this).data("original-value").match(/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})jQuery/)?jQuery(a).val(jQuery(a).data("original-value")).change():jQuery(a).val("").change())}),jQuery("body").on("click",function(){jQuery(".iris-picker").hide()})})};