window.eAccounting=window.eAccounting||{},function(a,i,n,e,t){"use strict";var o={initializePlugins:function(){a(".ea-select2-control").select2({theme:"default eaccounting-select2"}),a(".ea-price-control").inputmask("decimal",{alias:"numeric",groupSeparator:eAccountingi18n.localization.thousands_separator,autoGroup:!0,digits:eAccountingi18n.localization.precision,radixPoint:eAccountingi18n.localization.decimal_mark,digitsOptional:!1,allowMinus:!1,prefix:eAccountingi18n.localization.price_symbol,placeholder:"0",rightAlign:0}),a(".ea-color-control").wpColorPicker(),a(".ea-wp-file-upload-btn").on("click",o.handleMediaUpload)},handleMediaUpload:function(i){i.preventDefault();var e=a(i.target),t=n.media({title:"Upload Image",multiple:!1}).open().on("select",function(){var i=t.state().get("selection").first(),n=i.toJSON().url;a(e).closest("div").find("input").val(i.toJSON().id),a(e).closest("div").css("background-image","url("+n+")")})},init:function(){this.initializePlugins(),a(e).on("eAccountingInvoiceUpdated",this.initializePlugins)}};e.addEventListener("DOMContentLoaded",function(){o.init()})}(jQuery,window,window.wp,document,undefined),jQuery.fn.serializeObject=function(){var i={},n=this.serializeArray();return jQuery.each(n,function(){i[this.name]!==undefined?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i};