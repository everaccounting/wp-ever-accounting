(function () {
	var c,
		u,
		t,
		e,
		o,
		n,
		r,
		s,
		i,
		v,
		a,
		l,
		w,
		p,
		h,
		f,
		d,
		b,
		k,
		g,
		m,
		y,
		S,
		q,
		L,
		x,
		P,
		T,
		R,
		j,
		E,
		O,
		M,
		A,
		N,
		_,
		F,
		C,
		U,
		W,
		X,
		D,
		H,
		I,
		z,
		G,
		B,
		J,
		K,
		Q = [].slice,
		V = {}.hasOwnProperty,
		Y = function (t, e) {
			for (var n in e) V.call(e, n) && (t[n] = e[n]);
			function r() {
				this.constructor = t;
			}
			return (r.prototype = e.prototype), (t.prototype = new r()), (t.__super__ = e.prototype), t;
		},
		Z =
			[].indexOf ||
			function (t) {
				for (var e = 0, n = this.length; e < n; e++) if (e in this && this[e] === t) return e;
				return -1;
			};
	function $() {}
	for (
		m = {
			catchupTime: 100,
			initialRate: 0.03,
			minTime: 250,
			ghostTime: 100,
			maxProgressPerFrame: 20,
			easeFactor: 1.25,
			startOnPageLoad: !0,
			restartOnPushState: !0,
			restartOnRequestAfter: 500,
			target: 'body',
			elements: { checkInterval: 100, selectors: ['body'] },
			eventLag: { minSamples: 10, sampleCount: 3, lagThreshold: 3 },
			ajax: { trackMethods: ['GET'], trackWebSockets: !0, ignoreURLs: [] },
		},
			R = function () {
				var t;
				return null !=
					(t =
						'undefined' != typeof performance && null !== performance && 'function' == typeof performance.now
							? performance.now()
							: void 0)
					? t
					: +new Date();
			},
			E =
				window.requestAnimationFrame ||
				window.mozRequestAnimationFrame ||
				window.webkitRequestAnimationFrame ||
				window.msRequestAnimationFrame,
			g = window.cancelAnimationFrame || window.mozCancelAnimationFrame,
			null == E &&
				((E = function (t) {
					return setTimeout(t, 50);
				}),
				(g = function (t) {
					return clearTimeout(t);
				})),
			M = function (e) {
				var n = R(),
					r = function () {
						var t = R() - n;
						return 33 <= t
							? ((n = R()),
							  e(t, function () {
									return E(r);
							  }))
							: setTimeout(r, 33 - t);
					};
				return r();
			},
			O = function () {
				var t = arguments[0],
					e = arguments[1],
					n = 3 <= arguments.length ? Q.call(arguments, 2) : [];
				return 'function' == typeof t[e] ? t[e].apply(t, n) : t[e];
			},
			y = function () {
				for (
					var t, e, n, r = arguments[0], s = 2 <= arguments.length ? Q.call(arguments, 1) : [], o = 0, i = s.length;
					o < i;
					o++
				)
					if ((e = s[o]))
						for (t in e)
							V.call(e, t) &&
								((n = e[t]),
								null != r[t] && 'object' == typeof r[t] && null != n && 'object' == typeof n ? y(r[t], n) : (r[t] = n));
				return r;
			},
			d = function (t) {
				for (var e, n, r = (e = 0), s = 0, o = t.length; s < o; s++) (n = t[s]), (r += Math.abs(n)), e++;
				return r / e;
			},
			q = function (t, e) {
				var n, r;
				if (
					(null == t && (t = 'options'), null == e && (e = !0), (r = document.querySelector('[data-pace-' + t + ']')))
				) {
					if (((n = r.getAttribute('data-pace-' + t)), !e)) return n;
					try {
						return JSON.parse(n);
					} catch (s) {
						return 'undefined' != typeof console && null !== console
							? console.error('Error parsing inline pace options', s)
							: void 0;
					}
				}
			},
			$.prototype.on = function (t, e, n, r) {
				var s;
				return (
					null == r && (r = !1),
					null == this.bindings && (this.bindings = {}),
					null == (s = this.bindings)[t] && (s[t] = []),
					this.bindings[t].push({ handler: e, ctx: n, once: r })
				);
			},
			$.prototype.once = function (t, e, n) {
				return this.on(t, e, n, !0);
			},
			$.prototype.off = function (t, e) {
				var n, r, s;
				if (null != (null != (r = this.bindings) ? r[t] : void 0)) {
					if (null == e) return delete this.bindings[t];
					for (n = 0, s = []; n < this.bindings[t].length; )
						this.bindings[t][n].handler === e ? s.push(this.bindings[t].splice(n, 1)) : s.push(n++);
					return s;
				}
			},
			$.prototype.trigger = function () {
				var t,
					e,
					n,
					r,
					s,
					o,
					i,
					a = arguments[0],
					u = 2 <= arguments.length ? Q.call(arguments, 1) : [];
				if (null != (s = this.bindings) && s[a]) {
					for (n = 0, i = []; n < this.bindings[a].length; )
						(e = (o = this.bindings[a][n]).handler),
							(t = o.ctx),
							(r = o.once),
							e.apply(null != t ? t : this, u),
							r ? i.push(this.bindings[a].splice(n, 1)) : i.push(n++);
					return i;
				}
			},
			r = $,
			v = window.Pace || {},
			window.Pace = v,
			y(v, r.prototype),
			j = v.options = y({}, m, window.paceOptions, q()),
			H = 0,
			z = (B = ['ajax', 'document', 'eventLag', 'elements']).length;
		H < z;
		H++
	)
		!0 === j[(F = B[H])] && (j[F] = m[F]);
	function tt() {
		return tt.__super__.constructor.apply(this, arguments);
	}
	function et() {
		this.progress = 0;
	}
	function nt() {
		this.bindings = {};
	}
	function rt() {
		var n,
			o = this;
		rt.__super__.constructor.apply(this, arguments),
			(n = function (r) {
				var s = r.open;
				return (r.open = function (t, e, n) {
					return _(t) && o.trigger('request', { type: t, url: e, request: r }), s.apply(r, arguments);
				});
			}),
			(window.XMLHttpRequest = function (t) {
				var e = new D(t);
				return n(e), e;
			});
		try {
			S(window.XMLHttpRequest, D);
		} catch (t) {}
		if (null != X) {
			window.XDomainRequest = function () {
				var t = new X();
				return n(t), t;
			};
			try {
				S(window.XDomainRequest, X);
			} catch (t) {}
		}
		if (null != W && j.ajax.trackWebSockets) {
			window.WebSocket = function (t, e) {
				var n = null != e ? new W(t, e) : new W(t);
				return _('socket') && o.trigger('request', { type: 'socket', url: t, protocols: e, request: n }), n;
			};
			try {
				S(window.WebSocket, W);
			} catch (t) {}
		}
	}
	function st() {
		var t = this;
		(this.elements = []),
			L().on('request', function () {
				return t.watch.apply(t, arguments);
			});
	}
	function ot(t) {
		(this.selector = t), (this.progress = 0), this.check();
	}
	function it() {
		var t,
			e,
			n = this;
		(this.progress = null != (e = this.states[document.readyState]) ? e : 100),
			(t = document.onreadystatechange),
			(document.onreadystatechange = function () {
				return (
					null != n.states[document.readyState] && (n.progress = n.states[document.readyState]),
					'function' == typeof t ? t.apply(null, arguments) : void 0
				);
			});
	}
	function at(t) {
		(this.source = t),
			(this.last = this.sinceLastUpdate = 0),
			(this.rate = j.initialRate),
			(this.catchup = 0),
			(this.progress = this.lastProgress = 0),
			null != this.source && (this.progress = O(this.source, 'progress'));
	}
	(K = Error),
		Y(tt, K),
		(i = tt),
		(et.prototype.getElement = function () {
			var t;
			if (null == this.el) {
				if (!(t = document.querySelector(j.target))) throw new i();
				(this.el = document.createElement('div')),
					(this.el.className = 'pace pace-active'),
					(document.body.className = document.body.className.replace(/pace-done/g, '')),
					(document.body.className += ' pace-running'),
					(this.el.innerHTML =
						'<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>'),
					null != t.firstChild ? t.insertBefore(this.el, t.firstChild) : t.appendChild(this.el);
			}
			return this.el;
		}),
		(et.prototype.finish = function () {
			var t = this.getElement();
			return (
				(t.className = t.className.replace('pace-active', '')),
				(t.className += ' pace-inactive'),
				(document.body.className = document.body.className.replace('pace-running', '')),
				(document.body.className += ' pace-done')
			);
		}),
		(et.prototype.update = function (t) {
			return (this.progress = t), this.render();
		}),
		(et.prototype.destroy = function () {
			try {
				this.getElement().parentNode.removeChild(this.getElement());
			} catch (t) {
				i = t;
			}
			return (this.el = void 0);
		}),
		(et.prototype.render = function () {
			var t, e, n, r, s, o, i;
			if (null == document.querySelector(j.target)) return !1;
			for (
				t = this.getElement(),
					r = 'translate3d(' + this.progress + '%, 0, 0)',
					s = 0,
					o = (i = ['webkitTransform', 'msTransform', 'transform']).length;
				s < o;
				s++
			)
				(e = i[s]), (t.children[0].style[e] = r);
			return (
				(!this.lastRenderedProgress || this.lastRenderedProgress | (0 !== this.progress) | 0) &&
					(t.children[0].setAttribute('data-progress-text', (0 | this.progress) + '%'),
					100 <= this.progress ? (n = '99') : ((n = this.progress < 10 ? '0' : ''), (n += 0 | this.progress)),
					t.children[0].setAttribute('data-progress', '' + n)),
				(this.lastRenderedProgress = this.progress)
			);
		}),
		(et.prototype.done = function () {
			return 100 <= this.progress;
		}),
		(u = et),
		(nt.prototype.trigger = function (t, e) {
			var n, r, s, o, i;
			if (null != this.bindings[t]) {
				for (i = [], r = 0, s = (o = this.bindings[t]).length; r < s; r++) (n = o[r]), i.push(n.call(this, e));
				return i;
			}
		}),
		(nt.prototype.on = function (t, e) {
			var n;
			return null == (n = this.bindings)[t] && (n[t] = []), this.bindings[t].push(e);
		}),
		(s = nt),
		(D = window.XMLHttpRequest),
		(X = window.XDomainRequest),
		(W = window.WebSocket),
		(S = function (t, e) {
			var n,
				r = [];
			for (n in e.prototype)
				try {
					null == t[n] && 'function' != typeof e[n]
						? 'function' == typeof Object.defineProperty
							? r.push(
									Object.defineProperty(t, n, {
										get: function () {
											return e.prototype[n];
										},
										configurable: !0,
										enumerable: !0,
									})
							  )
							: r.push((t[n] = e.prototype[n]))
						: r.push(void 0);
				} catch (s) {
					0;
				}
			return r;
		}),
		(P = []),
		(v.ignore = function () {
			var t,
				e = arguments[0],
				n = 2 <= arguments.length ? Q.call(arguments, 1) : [];
			return P.unshift('ignore'), (t = e.apply(null, n)), P.shift(), t;
		}),
		(v.track = function () {
			var t,
				e = arguments[0],
				n = 2 <= arguments.length ? Q.call(arguments, 1) : [];
			return P.unshift('track'), (t = e.apply(null, n)), P.shift(), t;
		}),
		(_ = function (t) {
			var e;
			if ((null == t && (t = 'GET'), 'track' === P[0])) return 'force';
			if (!P.length && j.ajax) {
				if ('socket' === t && j.ajax.trackWebSockets) return !0;
				if (((e = t.toUpperCase()), 0 <= Z.call(j.ajax.trackMethods, e))) return !0;
			}
			return !1;
		}),
		Y(rt, s),
		(a = rt),
		(I = null),
		(N = function (t) {
			for (var e, n = j.ajax.ignoreURLs, r = 0, s = n.length; r < s; r++)
				if ('string' == typeof (e = n[r])) {
					if (-1 !== t.indexOf(e)) return !0;
				} else if (e.test(t)) return !0;
			return !1;
		}),
		(L = function () {
			return null == I && (I = new a()), I;
		})().on('request', function (t) {
			var e,
				i,
				a = t.type,
				u = t.request,
				n = t.url;
			if (!N(n))
				return v.running || (!1 === j.restartOnRequestAfter && 'force' !== _(a))
					? void 0
					: ((i = arguments),
					  'boolean' == typeof (e = j.restartOnRequestAfter || 0) && (e = 0),
					  setTimeout(function () {
							var t,
								e,
								n,
								r,
								s,
								o = 'socket' === a ? u.readyState < 2 : 0 < (n = u.readyState) && n < 4;
							if (o) {
								for (v.restart(), s = [], t = 0, e = (r = v.sources).length; t < e; t++) {
									if ((F = r[t]) instanceof c) {
										F.watch.apply(F, i);
										break;
									}
									s.push(void 0);
								}
								return s;
							}
					  }, e));
		}),
		(st.prototype.watch = function (t) {
			var e,
				n = t.type,
				r = t.request,
				s = t.url;
			if (!N(s)) return (e = new ('socket' === n ? p : h)(r)), this.elements.push(e);
		}),
		(c = st),
		(h = function (e) {
			var t,
				n,
				r,
				s,
				o,
				i = this;
			if (((this.progress = 0), null != window.ProgressEvent))
				for (
					e.addEventListener(
						'progress',
						function (t) {
							return t.lengthComputable
								? (i.progress = (100 * t.loaded) / t.total)
								: (i.progress = i.progress + (100 - i.progress) / 2);
						},
						!1
					),
						n = 0,
						r = (o = ['load', 'abort', 'timeout', 'error']).length;
					n < r;
					n++
				)
					(t = o[n]),
						e.addEventListener(
							t,
							function () {
								return (i.progress = 100);
							},
							!1
						);
			else
				(s = e.onreadystatechange),
					(e.onreadystatechange = function () {
						var t;
						return (
							0 === (t = e.readyState) || 4 === t ? (i.progress = 100) : 3 === e.readyState && (i.progress = 50),
							'function' == typeof s ? s.apply(null, arguments) : void 0
						);
					});
		}),
		(p = function (t) {
			for (var e, n, r = this, s = (this.progress = 0), o = (n = ['error', 'open']).length; s < o; s++)
				(e = n[s]),
					t.addEventListener(
						e,
						function () {
							return (r.progress = 100);
						},
						!1
					);
		}),
		(e = function (t) {
			var e, n, r, s;
			for (
				null == t && (t = {}),
					this.elements = [],
					null == t.selectors && (t.selectors = []),
					n = 0,
					r = (s = t.selectors).length;
				n < r;
				n++
			)
				(e = s[n]), this.elements.push(new o(e));
		}),
		(ot.prototype.check = function () {
			var t = this;
			return document.querySelector(this.selector)
				? this.done()
				: setTimeout(function () {
						return t.check();
				  }, j.elements.checkInterval);
		}),
		(ot.prototype.done = function () {
			return (this.progress = 100);
		}),
		(o = ot),
		(it.prototype.states = { loading: 0, interactive: 50, complete: 100 }),
		(t = it),
		(n = function () {
			var e,
				n,
				r,
				s,
				o,
				i = this;
			(this.progress = 0),
				(o = []),
				(s = 0),
				(r = R()),
				(n = setInterval(function () {
					var t = R() - r - 50;
					return (
						(r = R()),
						o.push(t),
						o.length > j.eventLag.sampleCount && o.shift(),
						(e = d(o)),
						++s >= j.eventLag.minSamples && e < j.eventLag.lagThreshold
							? ((i.progress = 100), clearInterval(n))
							: (i.progress = (3 / (e + 3)) * 100)
					);
				}, 50));
		}),
		(at.prototype.tick = function (t, e) {
			var n;
			return (
				null == e && (e = O(this.source, 'progress')),
				100 <= e && (this.done = !0),
				e === this.last
					? (this.sinceLastUpdate += t)
					: (this.sinceLastUpdate && (this.rate = (e - this.last) / this.sinceLastUpdate),
					  (this.catchup = (e - this.progress) / j.catchupTime),
					  (this.sinceLastUpdate = 0),
					  (this.last = e)),
				e > this.progress && (this.progress += this.catchup * t),
				(n = 1 - Math.pow(this.progress / 100, j.easeFactor)),
				(this.progress += n * this.rate * t),
				(this.progress = Math.min(this.lastProgress + j.maxProgressPerFrame, this.progress)),
				(this.progress = Math.max(0, this.progress)),
				(this.progress = Math.min(100, this.progress)),
				(this.lastProgress = this.progress),
				this.progress
			);
		}),
		(w = at),
		(k = f = U = b = A = C = null),
		(v.running = !1),
		(x = function () {
			if (j.restartOnPushState) return v.restart();
		}),
		null != window.history.pushState &&
			((G = window.history.pushState),
			(window.history.pushState = function () {
				return x(), G.apply(window.history, arguments);
			})),
		null != window.history.replaceState &&
			((J = window.history.replaceState),
			(window.history.replaceState = function () {
				return x(), J.apply(window.history, arguments);
			})),
		(l = { ajax: c, elements: e, document: t, eventLag: n }),
		(T = function () {
			var t, e, n, r, s, o, i, a;
			for (v.sources = C = [], e = 0, r = (o = ['ajax', 'elements', 'document', 'eventLag']).length; e < r; e++)
				!1 !== j[(t = o[e])] && C.push(new l[t](j[t]));
			for (n = 0, s = (a = null != (i = j.extraSources) ? i : []).length; n < s; n++) (F = a[n]), C.push(new F(j));
			return (v.bar = b = new u()), (A = []), (U = new w());
		})(),
		(v.stop = function () {
			return (
				v.trigger('stop'),
				(v.running = !1),
				b.destroy(),
				(k = !0),
				null != f && ('function' == typeof g && g(f), (f = null)),
				T()
			);
		}),
		(v.restart = function () {
			return v.trigger('restart'), v.stop(), v.start();
		}),
		(v.go = function () {
			var y;
			return (
				(v.running = !0),
				b.render(),
				(y = R()),
				(k = !1),
				(f = M(function (t, e) {
					b.progress;
					for (var n, r, s, o, i, a, u, c, l, p, h, f = (u = 0), d = !0, g = (c = 0), m = C.length; c < m; g = ++c)
						for (
							F = C[g],
								a = null != A[g] ? A[g] : (A[g] = []),
								o = l = 0,
								p = (s = null != (h = F.elements) ? h : [F]).length;
							l < p;
							o = ++l
						)
							(r = s[o]), (d &= (i = null != a[o] ? a[o] : (a[o] = new w(r))).done), i.done || (f++, (u += i.tick(t)));
					return (
						(n = u / f),
						b.update(U.tick(t, n)),
						b.done() || d || k
							? (b.update(100),
							  v.trigger('done'),
							  setTimeout(function () {
									return b.finish(), (v.running = !1), v.trigger('hide');
							  }, Math.max(j.ghostTime, Math.max(j.minTime - (R() - y), 0))))
							: e()
					);
				}))
			);
		}),
		(v.start = function (t) {
			y(j, t), (v.running = !0);
			try {
				b.render();
			} catch (e) {
				i = e;
			}
			return document.querySelector('.pace') ? (v.trigger('start'), v.go()) : setTimeout(v.start, 50);
		}),
		'function' == typeof define && define.amd
			? define(['pace'], function () {
					return v;
			  })
			: 'object' == typeof exports
			? (module.exports = v)
			: j.startOnPageLoad && v.start();
}.call(this));
